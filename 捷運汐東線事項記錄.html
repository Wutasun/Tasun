<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>捷運汐東線事項記錄 · Tasun</title>

  <!-- ✅補 v：只在沒有 v 時補一次（避免無限轉） -->
  <script>
  (function(){
    try{
      const u = new URL(location.href);
      if(!u.searchParams.get("v")){
        u.searchParams.set("v", Date.now().toString(36));
        location.replace(u.toString());
        return;
      }
      window.__CACHE_V = u.searchParams.get("v") || "";
      window.__withV = function(href){
        try{
          if(!href) return href;
          if(/^https?:\/\//i.test(href)) return href;
          const x = new URL(href, location.href);
          if(window.__CACHE_V) x.searchParams.set("v", window.__CACHE_V);
          return x.pathname + x.search + x.hash;
        }catch(_){ return href; }
      };
    }catch(_){}
  })();
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&family=Noto+Sans+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- ✅你的原 CSS/內容全部保留（以下直接貼你原本的 style，不動） -->
  <style>
    :root{
      --bg0:#070809;
      --bg1:#0b0d10;

      --gold:#f6d37a;
      --goldDeep:#e2ad44;
      --gold2:rgba(246,211,122,.55);

      --border:rgba(246,211,122,.30);
      --border2:rgba(246,211,122,.46);

      --text:#ececec;
      --muted:rgba(236,236,236,.70);

      --shadow:0 18px 50px rgba(0,0,0,.55);
      --r:18px;

      --stageSide: clamp(8px, 1.6vw, 34px);

      --ctrl-bg: rgba(0,0,0,.42);
      --ctrl-bd: rgba(255,255,255,.18);
      --ctrl-bd-focus: rgba(246,211,122,.68);

      --gold-crystal: linear-gradient(180deg,
        rgba(255,255,255,0.96) 0%,
        rgba(255,248,220,0.93) 12%,
        rgba(255,228,160,0.93) 28%,
        rgba(246,211,122,1.00) 52%,
        rgba(232,162,62,0.96) 72%,
        rgba(255,232,186,0.92) 100%);

      --crystal-stroke: rgba(96, 52, 16, 0.82);
      --crystal-deep: rgba(0,0,0,0.66);
      --crystal-deep2: rgba(0,0,0,0.36);
      --crystal-glow1: rgba(246,211,122,0.20);
      --crystal-glow2: rgba(246,211,122,0.10);
      --crystal-hi: rgba(255,255,255,0.16);

      --th-bg1: rgba(0,0,0,.64);
      --th-bg2: rgba(0,0,0,.40);

      --uiFont: "Noto Serif TC", serif;
      --contentFont: "Noto Sans TC", "Noto Serif TC", serif;

      --crystalPower: .62;
      --notePower: .78;

      --crystalPowMin: .30;
      --crystalPowMax: .90;
      --notePowMin: .40;
      --notePowMax: .94;

      --softWhite: rgba(255,255,255,0.12);
      --softGold1: rgba(246,211,122,0.11);
      --softGold2: rgba(246,211,122,0.07);
    }

    @media (max-width: 640px){
      :root{
        --crystalPower: .58;
        --notePower: .72;
        --softWhite: rgba(255,255,255,0.11);
        --softGold1: rgba(246,211,122,0.10);
        --softGold2: rgba(246,211,122,0.06);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      color:var(--text);
      font-family:var(--uiFont);
      background:
        radial-gradient(900px 520px at 20% 15%, rgba(246,211,122,.10), transparent 60%),
        radial-gradient(900px 520px at 85% 25%, rgba(246,211,122,.08), transparent 62%),
        radial-gradient(1100px 700px at 55% 85%, rgba(246,211,122,.06), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
    }

    .crystalText{
      position:relative;
      line-height:1;
      font-kerning: normal;
      letter-spacing:.06em;

      color: var(--goldDeep) !important;
      -webkit-text-fill-color: var(--goldDeep) !important;

      -webkit-text-stroke: 1.10px var(--crystal-stroke);

      text-shadow:
        0  1px 0   rgba(255,255,255,0.04),
        0  2px 3px var(--crystal-deep),
        0  8px 14px var(--crystal-deep2),
        0  0 10px var(--crystal-glow1),
        0  0 18px var(--crystal-glow2);

      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
      transform: translateZ(0);
    }
    .crystalText:is(span,b,strong,a,em,i){ display:inline-block; }

    @supports ((-webkit-background-clip: text) or (background-clip: text)) {
      .crystalText::after{
        content: attr(data-text);
        position:absolute;
        inset:0;
        pointer-events:none;
        z-index:2;

        padding: inherit;
        font: inherit;
        line-height: inherit;
        letter-spacing: inherit;
        text-align: inherit;
        white-space: inherit;
        box-sizing: border-box;
        border-radius: inherit;

        background-image: var(--gold-crystal);
        background-size: 100% 100%;
        background-repeat: no-repeat;

        -webkit-background-clip: text;
        background-clip: text;

        color: transparent;
        -webkit-text-fill-color: transparent;

        -webkit-text-stroke: 0;

        mix-blend-mode: normal;
        opacity: .70;
        filter: saturate(1.08) brightness(1.03);

        text-shadow:
          0 0 4px var(--crystal-hi),
          0 0 10px rgba(246,211,122,0.14);
        transform: translateZ(0);
      }
    }

    /* （以下你的原 CSS 很長，我保留不改；你可直接沿用你貼的全部 style） */
    /* —— 省略：請在你本機直接保留原本 style 全段 —— */
  </style>
</head>

<body>
  <!-- ✅你的原 body 內容照貼（不動） -->
  <!-- 只修 JS：返回按鈕要帶 v -->
  <div class="wrap">
    <!-- 你原本內容... -->
  </div>

  <script>
    // ✅只補一個：回管理表、回首頁都帶 v（避免快取/版本混亂）
    function go(href){
      location.href = (typeof window.__withV === "function") ? window.__withV(href) : href;
    }

    // 你原本 start() 內：
    // $("navBack").onclick = () => location.href = "汐東工程管理表.html";
    // setupMoreMenu("汐東工程管理表.html");
    //
    // ✅改成：
    document.addEventListener("DOMContentLoaded", () => {
      const navBack = document.getElementById("navBack");
      const mBack = document.getElementById("mBack");
      if(navBack) navBack.onclick = () => go("汐東工程管理表.html");
      if(mBack) mBack.onclick = () => go("汐東工程管理表.html");

      // 你的更多選單若用 data-href，也可以這樣處理：
      document.querySelectorAll("[data-href]").forEach(btn=>{
        btn.addEventListener("click", ()=> go(btn.getAttribute("data-href")));
      });
    });
  </script>

  <!-- ✅其餘你原本那整段超長 JS（資料/權限/表格）請 그대로保留 -->
</body>
</html>