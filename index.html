<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tasun è³‡æ–™é¦–é  Â· ç©ºç„¡æ˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- âœ…âœ…âœ… GitHub Pages å¼·åˆ¶åˆ·æ–°ï¼ˆä¸€æ¬¡æ€§ï¼‰+ å…¨ç«™è³‡æº cache-bust -->
  <script>
  (function () {
    const KEY = "tasun_force_refresh_once_v1";
    const u = new URL(location.href);

    if (!u.searchParams.has("v") && !sessionStorage.getItem(KEY)) {
      sessionStorage.setItem(KEY, "1");
      u.searchParams.set("v", String(Date.now()));
      location.replace(u.toString());
      return;
    }

    const v = u.searchParams.get("v") || "";
    window.__CACHE_V = v;

    window.__withV = function(url){
      const vv = (window.__CACHE_V || "").trim();
      if(!vv) return url;
      try{
        const uu = new URL(url, document.baseURI);
        if (uu.origin === location.origin) uu.searchParams.set("v", vv);
        return uu.toString();
      }catch(e){ return url; }
    };
  })();
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link id="preloadZen" rel="preload" as="image" href="ä½›æ•™ç¦ªæ„ä¸»è¦–è¦º.png">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <script>
  (function(){
    const pre = document.getElementById("preloadZen");
    if(!pre || !window.__withV) return;
    pre.href = window.__withV(pre.getAttribute("href") || pre.href);
  })();
  </script>

  <style>
    :root{
      --gold:#f6d37a;

      --outer-side: clamp(18px, 2.2vw, 64px);

      --frame-inset: clamp(0.55rem, 1.0vw, 1.1rem);
      --frame-radius: clamp(22px, 2vw, 34px);
      --stage-top: clamp(4.3rem, 8vh, 6.0rem); /* â¬… èˆå°ä¸Šç·£ç•¥ä¸‹ç§»ï¼Œè®“æ¨™é¡Œä¸è²¼é ‚ */
      --glass-inset: clamp(8px, 0.9vw, 14px);

      --nav-pad: clamp(10px, 1.3vw, 28px);

      --btn-h: clamp(54px, 5.8vh, 86px);
      --btn-font-max: clamp(0.95rem, 0.98vw, 1.12rem);

      --nav-col-gap: clamp(1.0rem, 4.2vw, 3.4rem);
      --nav-row-gap: clamp(.56rem, 1.0vh, .78rem);

      --nav-cols: 2;

      --nav-top: calc(var(--stage-top) + clamp(0.9rem, 3.6vh, 2.8rem));
      --nav-bottom: calc(var(--frame-inset) + var(--glass-inset) + clamp(0.9rem, 4.2vh, 3.0rem));

      --zen-opacity: .86;         /* â¬… æ›´æ¸…æ™° */
      --zen-scale: 1.04;
      --zen-contrast: 1.20;
      --zen-bright: .94;          /* â¬… èˆå°æ›´äº®ï¼Œä¸å£“å­— */
      --zen-sat: 1.08;
      --zen-posX: 50%;
      --zen-posY: 56%;            /* â¬… è“®èŠ±ä¸­å¿ƒæ›´é èˆå°ä¸­å¿ƒ */

      --ripple-op: .040;
      --ripple-speed: 22s;

      --sideglass-w: clamp(70px, 6.2vw, 150px);
      --sideglass-op: .12;

      --stage-blur: 3.0px;
      --panel-blur: 5.2px;
      --btn-blur: 2.2px;
      --btn-blur-m: 2.0px;

      --title-top: calc(1.05rem + env(safe-area-inset-top)); /* â¬… æ¨™é¡Œå¾€ä¸‹ */
      --title-size: clamp(2.9rem, 5.2vw, 4.4rem);            /* â¬… å­—å†å¤§ä¸€é» */

      --gold-crystal: linear-gradient(180deg,
        rgba(255,255,255,0.98) 0%,
        rgba(255,248,220,0.94) 12%,
        rgba(255,228,160,0.94) 30%,
        rgba(246,211,122,1.00) 50%,
        rgba(235,170,70,0.98) 70%,
        rgba(255,236,196,0.94) 100%);

      /* â¬… æ°´æ™¶å­—æ›´ç©©ï¼šæé‚Šæ›´éŠ³åˆ©ã€é™°å½±æ›´èšç„¦ã€å°‘æ´—å­— */
      --crystal-stroke: rgba(78, 38, 10, 0.74);
      --crystal-deep: rgba(0,0,0,0.55);
      --crystal-deep2: rgba(0,0,0,0.28);
      --crystal-glow1: rgba(246,211,122,0.26);
      --crystal-glow2: rgba(246,211,122,0.10);
      --crystal-hi: rgba(255,255,255,0.16);

      /* å¼§å½¢æŒ‰éµï¼ˆæ¡Œæ©Ÿï¼‰ */
      --arc-btn-w: clamp(290px, 23vw, 520px);
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html, body { height: 100%; }

    body{
      min-height:100dvh;
      font-family:"Noto Serif TC","æ¨™æ¥·é«”","Microsoft JhengHei",serif;
      background:#080604;
      color:var(--gold);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
    }

    body.locked{ overflow:hidden; }
    body.locked main.hero{ visibility:hidden; }
    body:not(.locked) main.hero{ visibility:visible; }

    .login-overlay{
      position:fixed; inset:0;
      background: radial-gradient(circle at 50% 18%, rgba(255,228,170,0.30), rgba(0,0,0,0.97));
      display:flex; align-items:center; justify-content:center;
      z-index:999;
    }
    .login-box{
      width:min(380px,90vw);
      padding:2.4rem 2.6rem 2.2rem;
      border-radius:18px;
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,0.22), rgba(0,0,0,0.94));
      border:1px solid rgba(246,211,122,0.35);
      box-shadow:0 0 24px rgba(0,0,0,0.9), 0 0 32px rgba(246,211,122,0.18);
      color:rgba(246,211,122,0.75);
    }
    .login-title{
      text-align:center;
      font-size:1.4rem;
      letter-spacing:.2em;
      text-indent:.2em;
      margin-bottom:1.2rem;
    }
    .login-sub{
      text-align:center;
      font-size:.86rem;
      letter-spacing:.12em;
      text-indent:.12em;
      margin:-.3rem 0 1.2rem;
      color: rgba(246,211,122,0.66);
      min-height:1.1rem;
    }
    .login-field{ margin-bottom:1rem; }
    .login-field label{
      display:block;
      font-size:.85rem;
      letter-spacing:.18em;
      text-indent:.18em;
      margin-bottom:.3rem;
      color:rgba(246,211,122,0.78);
    }
    .login-field input, .login-field select{
      width:100%;
      padding:.55rem .7rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.5);
      background:rgba(0,0,0,0.82);
      color:var(--gold);
      outline:none;
    }
    .login-field input:focus, .login-field select:focus{
      border-color:rgba(255,238,190,0.9);
      box-shadow:0 0 12px rgba(246,211,122,0.55);
    }
    .login-pwd-wrapper{ display:flex; align-items:center; gap:.45rem; }
    .login-pwd-input{ flex:1 1 auto; }
    .btn-eye-login{
      padding:.25rem .7rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.8);
      background:rgba(0,0,0,0.85);
      color:var(--gold);
      font-size:.8rem;
      cursor:pointer;
      box-shadow:0 0 8px rgba(0,0,0,0.6);
    }
    .btn-eye-login:hover{ background:rgba(246,211,122,0.16); }
    .login-error{
      min-height:1.1rem;
      margin-bottom:.4rem;
      font-size:.8rem;
      color:#ffb3b3;
      text-align:center;
    }
    .login-actions{ margin-top:.8rem; display:flex; justify-content:center; gap:.6rem; flex-wrap:wrap; }

    .btn-login{
      padding:.55rem 2.2rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.9);
      background:radial-gradient(circle at 0% 0%, rgba(246,211,122,0.30), rgba(0,0,0,0.98));
      cursor:pointer;
      box-shadow:0 10px 18px rgba(0,0,0,0.95), 0 0 18px rgba(246,211,122,0.34);
      transition:transform .15s ease-out, box-shadow .2s ease-out, background .2s ease-out, border-color .2s ease-out;
      letter-spacing:.22em; text-indent:.22em;
      font-size:.95rem;
    }
    .btn-login:hover{
      transform:translateY(-1px);
      box-shadow:0 12px 22px rgba(0,0,0,0.98), 0 0 22px rgba(246,211,122,0.55);
      border-color:#fff4cf;
      background:radial-gradient(circle at 0% 0%, rgba(255,244,208,0.40), rgba(0,0,0,0.97));
    }

    .btn-secondary{
      padding:.55rem 1.6rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.55);
      background: rgba(0,0,0,0.78);
      cursor:pointer;
      box-shadow:0 8px 16px rgba(0,0,0,0.85);
      transition:transform .15s ease-out, border-color .2s ease-out;
      letter-spacing:.16em; text-indent:.16em;
      font-size:.88rem;
    }
    .btn-secondary:hover{ transform:translateY(-1px); border-color:#fff4cf; }

    .login-title,
    .btn-login,
    .btn-secondary{
      font-family:"DFKai-SB","æ¨™æ¥·é«”","BiauKai","KaiTi","STKaiti","Kaiti TC","Noto Serif TC",serif;
      font-weight:900;
      color: var(--gold);
    }

    .hero{
      position:relative;
      min-height:100dvh;
      height:100dvh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:var(--gold);
    }

    /* â¬… é™ä½ã€Œé»‘éœ§å£“å­—ã€ï¼šèˆå°æ›´äº®æ›´æ¸…çˆ½ */
    .hero::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 50% 16%,
          rgba(255,242,200,0.26) 0,
          rgba(255,242,200,0.12) 22%,
          rgba(255,242,200,0.04) 48%,
          rgba(255,242,200,0.00) 70%),
        linear-gradient(to bottom,
          rgba(0,0,0,0.78) 0%,
          rgba(0,0,0,0.56) 36%,
          rgba(0,0,0,0.38) 66%,
          rgba(0,0,0,0.62) 100%);
      z-index:-6;
    }
    .hero::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 50% 58%, rgba(246,211,122,0.040) 0, rgba(0,0,0,0.00) 56%),
        radial-gradient(circle at 50% 74%, rgba(0,0,0,0.00) 0, rgba(0,0,0,0.12) 62%, rgba(0,0,0,0.46) 100%);
      z-index:-5;
      pointer-events:none;
    }

    .hero-inner{
      position:relative;
      width: calc(100vw - (2 * var(--outer-side)));
      height:100dvh;
      margin:0 var(--outer-side);
      padding: clamp(1.0rem, 1.6vw, 1.6rem);
      isolation:isolate;
      contain: layout paint;
    }

    .hero-inner::before{
      content:"";
      position:absolute;
      inset:var(--frame-inset);
      border-radius:var(--frame-radius);
      background:
        radial-gradient(circle at 50% 46%, rgba(255,244,210,0.06), rgba(0,0,0,0.00) 62%),
        linear-gradient(180deg, rgba(255,255,255,0.020), rgba(0,0,0,0.18));
      backdrop-filter: blur(var(--stage-blur));
      -webkit-backdrop-filter: blur(var(--stage-blur));
      opacity: .94;
      z-index:-6;
      pointer-events:none;
    }
    .hero-inner::after{
      content:"";
      position:absolute;
      inset:var(--frame-inset);
      border-radius:var(--frame-radius);
      background:
        radial-gradient(circle at 50% 18%, rgba(255,244,210,0.03), rgba(255,244,210,0.00) 58%),
        linear-gradient(180deg, rgba(255,255,255,0.030), rgba(255,255,255,0.006));
      border:1px solid rgba(246,211,122,0.14);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.04),
        0 0 26px rgba(0,0,0,0.46),
        0 0 22px rgba(246,211,122,0.08);
      z-index:-5;
      pointer-events:none;
    }

    .ripple-film{
      position:absolute;
      inset:var(--frame-inset);
      border-radius:var(--frame-radius);
      pointer-events:none;
      z-index:-4;
      opacity: var(--ripple-op);
      mix-blend-mode: screen;
      background:
        repeating-radial-gradient(circle at 30% 40%,
          rgba(255,255,255,0.12) 0 1px,
          rgba(255,255,255,0.00) 6px 18px),
        repeating-radial-gradient(circle at 72% 58%,
          rgba(246,211,122,0.08) 0 1px,
          rgba(0,0,0,0.00) 7px 22px);
      filter: blur(.10px);
      mask-image: radial-gradient(circle at 50% 55%, rgba(0,0,0,1) 0 62%, rgba(0,0,0,0) 90%);
      -webkit-mask-image: radial-gradient(circle at 50% 55%, rgba(0,0,0,1) 0 62%, rgba(0,0,0,0) 90%);
      animation: rippleMove var(--ripple-speed) ease-in-out infinite;
    }
    @keyframes rippleMove{
      0%{ background-position: 0% 0%, 0% 0%; transform: translateY(0px); }
      50%{ background-position: 12% 7%, -9% 10%; transform: translateY(-1px); }
      100%{ background-position: 0% 0%, 0% 0%; transform: translateY(0px); }
    }
    @media (prefers-reduced-motion: reduce){
      .ripple-film{ animation:none; }
    }

    .side-glass{
      position:absolute;
      top: var(--stage-top);
      bottom: calc(var(--frame-inset) + var(--glass-inset));
      width: var(--sideglass-w);
      pointer-events:none;
      border-radius: calc(var(--frame-radius) - 12px);
      z-index:-4;
      opacity: var(--sideglass-op);
      background:
        radial-gradient(140% 120% at 20% 20%, rgba(255,255,255,0.08), rgba(255,255,255,0.015) 48%, rgba(0,0,0,0.10) 100%),
        radial-gradient(circle at 50% 45%, rgba(246,211,122,0.04), rgba(0,0,0,0.00) 62%),
        linear-gradient(180deg, rgba(255,255,255,0.022), rgba(0,0,0,0.10));
      backdrop-filter: blur(var(--panel-blur)) saturate(1.05);
      -webkit-backdrop-filter: blur(var(--panel-blur)) saturate(1.05);
      box-shadow:
        0 18px 56px rgba(0,0,0,0.22),
        0 0 18px rgba(246,211,122,0.06),
        inset 0 0 0 1px rgba(255,255,255,0.03),
        inset 0 18px 30px rgba(255,255,255,0.022);
      overflow:hidden;
    }
    .side-glass-left{ left: calc(var(--frame-inset) + var(--glass-inset)); }
    .side-glass-right{ right: calc(var(--frame-inset) + var(--glass-inset)); }

    .lotus-stage{
      position:absolute;
      top:var(--stage-top);
      bottom: calc(var(--frame-inset) + var(--glass-inset));
      left:  calc(var(--frame-inset) + var(--glass-inset));
      right: calc(var(--frame-inset) + var(--glass-inset));
      border-radius: calc(var(--frame-radius) - 2px);
      overflow:hidden;
      pointer-events:none;
      z-index:-3;

      background:
        radial-gradient(circle at 50% 64%, rgba(0,0,0,0.00), rgba(0,0,0,0.12) 78%, rgba(0,0,0,0.22) 100%),
        linear-gradient(180deg, rgba(255,255,255,0.018), rgba(0,0,0,0.16));

      box-shadow:
        0 28px 78px rgba(0,0,0,0.40),
        0 0 30px rgba(246,211,122,0.07),
        inset 0 18px 32px rgba(255,255,255,0.016);

      backdrop-filter: blur(var(--panel-blur)) saturate(1.06);
      -webkit-backdrop-filter: blur(var(--panel-blur)) saturate(1.06);
      transform: translateZ(0);
    }

    .zen-visual{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      opacity: var(--zen-opacity);
      pointer-events:none;
      z-index:2;
    }
    .zen-visual img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: var(--zen-posX) var(--zen-posY);
      transform: scale(var(--zen-scale)) translateZ(0);
      filter:
        saturate(var(--zen-sat))
        contrast(var(--zen-contrast))
        brightness(var(--zen-bright))
        drop-shadow(0 18px 28px rgba(0,0,0,0.38));
    }

    .user-bar{
      position:fixed;
      top: calc(.86rem + env(safe-area-inset-top));
      left: calc(.9rem + env(safe-area-inset-left));
      display:flex;
      align-items:center;
      gap:.75rem;
      flex-wrap: wrap;
      row-gap: .45rem;
      max-width: calc(100vw - 1.8rem);
      pointer-events:none;
      z-index:40;
    }
    .user-pill, .btn-switch{ pointer-events:auto; }

    .user-pill{
      padding:.28rem 1.02rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.42);
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,0.07), rgba(0,0,0,0.66));
      font-size:.82rem;
      letter-spacing:.10em;
      text-indent:.10em;
      opacity:.92;
      box-shadow:0 3px 8px rgba(0,0,0,0.56), 0 0 10px rgba(246,211,122,0.06);
      white-space:nowrap;
    }

    .btn-switch{
      padding:.24rem .98rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,0.46);
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,0.08), rgba(0,0,0,0.70));
      font-size:.80rem;
      letter-spacing:.10em;
      text-indent:.10em;
      cursor:pointer;
      opacity:.90;
      box-shadow:0 4px 9px rgba(0,0,0,0.58), 0 0 10px rgba(246,211,122,0.06);
      transition:transform .15s ease-out, box-shadow .2s ease-out, background .2s ease-out, opacity .2s ease-out;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .btn-switch:hover{
      transform:translateY(-1px);
      opacity:.98;
      background: radial-gradient(circle at 0% 0%, rgba(255,244,208,0.12), rgba(0,0,0,0.70));
      box-shadow:0 7px 14px rgba(0,0,0,0.64), 0 0 14px rgba(246,211,122,0.10);
    }

    .site-title-wrapper{
      position:fixed;
      top: var(--title-top);
      left:50%;
      transform:translateX(-50%);
      text-align:center;
      letter-spacing:.38em;
      text-indent:.38em;
      z-index:39;
      pointer-events:none;
      width: min(94vw, 980px);
    }

    /* â¬… æŠ•å°„ç‡ˆå…‰æŸï¼ˆè®“å­—ç«™èµ·ä¾†ï¼‰ */
    .site-title-wrapper::after{
      content:"";
      position:absolute;
      left:50%;
      top: calc(100% - .25rem);
      transform: translateX(-50%);
      width: min(62vw, 820px);
      height: clamp(92px, 18vh, 190px);
      background:
        radial-gradient(closest-side at 50% 0%,
          rgba(255,240,200,0.34),
          rgba(246,211,122,0.16) 42%,
          rgba(0,0,0,0.00) 74%),
        linear-gradient(to bottom,
          rgba(246,211,122,0.16),
          rgba(0,0,0,0.00));
      clip-path: polygon(50% 0%, 6% 100%, 94% 100%);
      filter: blur(1px);
      opacity: .92;
      mix-blend-mode: screen;
      pointer-events:none;
    }

    .crystal{
      font-family:"DFKai-SB","æ¨™æ¥·é«”","BiauKai","KaiTi","STKaiti","Kaiti TC","Noto Serif TC",serif;
      font-weight:900;
    }

    .site-title,
    .crystal,
    .nav-btn span,
    .user-pill,
    .btn-switch,
    .login-title,
    .btn-login,
    .btn-secondary{
      position: relative;
      display: inline-block;

      color: var(--gold) !important;
      -webkit-text-fill-color: var(--gold) !important;

      -webkit-text-stroke: 1.18px var(--crystal-stroke);

      text-shadow:
        0  1px 0   rgba(255,255,255,0.05),
        0  2px 3px rgba(0,0,0,0.46),
        0  8px 12px rgba(0,0,0,0.22),
        0  0 8px var(--crystal-glow1),
        0  0 14px var(--crystal-glow2);

      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
    }

    @supports ((-webkit-background-clip: text) or (background-clip: text)) {
      .site-title::after,
      .crystal::after,
      .nav-btn span::after,
      .user-pill::after,
      .btn-switch::after,
      .login-title::after,
      .btn-login::after,
      .btn-secondary::after{
        content: attr(data-text);
        position:absolute;
        inset:0;
        pointer-events:none;
        z-index: 2;

        padding: inherit;
        border-radius: inherit;
        box-sizing: border-box;

        background-image: var(--gold-crystal);
        background-size: 100% 100%;
        background-repeat: no-repeat;

        -webkit-background-clip: text;
        background-clip: text;

        color: transparent;
        -webkit-text-fill-color: transparent;

        -webkit-text-stroke: 0;

        /* â¬… é¿å…æ´—å­—ï¼šäº®è†œç¸®å°è®Šå¼± */
        mix-blend-mode: screen;
        opacity: .62;
        filter: saturate(1.06) brightness(1.03);

        text-shadow:
          0 0 4px rgba(255,255,255,0.16),
          0 0 8px rgba(246,211,122,0.14);
      }
    }

    .site-title{
      font-family:"DFKai-SB","æ¨™æ¥·é«”","BiauKai","KaiTi","STKaiti","Kaiti TC","Noto Serif TC",serif;
      font-size: var(--title-size);
      font-weight:900;
      line-height: 1.02;
    }

    .nav-area{
      position:absolute;
      top: var(--nav-top);
      bottom: var(--nav-bottom);
      left:  calc(var(--frame-inset) + var(--glass-inset) + var(--nav-pad));
      right: calc(var(--frame-inset) + var(--glass-inset) + var(--nav-pad));

      z-index: 28;
      display:grid;
      grid-template-columns: repeat(var(--nav-cols), minmax(0, 1fr));
      column-gap: var(--nav-col-gap);
      row-gap: var(--nav-row-gap);

      align-content: start;
      justify-items: stretch;
      pointer-events: auto;
    }

    /* âœ… æ¡Œæ©Ÿï¼šå¼§å½¢æ‹±åˆ—ï¼ˆå·¦3/å³3ï¼‰ */
    @media (min-width: 901px){
      .nav-area.arc{
        display:block;
      }
      .nav-area.arc .nav-btn{
        position:absolute;
        width: var(--arc-btn-w);
        left: calc(50% + var(--x, 0px));
        top: var(--y, 50%);
        transform: translate(-50%, -50%) rotate(var(--rot, 0deg));
      }
    }

    .nav-btn{
      position:relative;
      width: 100%;
      height: var(--btn-h);
      border-radius: 999px;

      border: 1px solid rgba(246, 211, 122, 0.46);

      /* â¬… ç»ç’ƒæ›´æ·¡ã€æ›´è¼•ï¼ˆä½†å­—æ›´æ¸…æ¥šï¼‰ */
      background:
        radial-gradient(120% 140% at 18% 18%, rgba(255,255,255,0.030), rgba(255,255,255,0.00) 58%),
        radial-gradient(120% 140% at 70% 62%, rgba(246,211,122,0.020), rgba(0,0,0,0.00) 72%),
        linear-gradient(180deg, rgba(0,0,0, 0.10), rgba(0,0,0, 0.16));

      text-decoration:none;
      cursor:pointer;

      box-shadow:
        0 16px 34px rgba(0,0,0,0.40),
        0 7px 14px rgba(0,0,0,0.22),
        0 0 18px rgba(246,211,122,0.08),
        inset 0 0 0 1px rgba(255,255,255,0.04),
        inset 0 18px 26px rgba(255,255,255,0.016);

      display:flex;
      align-items:center;
      justify-content:center;
      padding: 0 clamp(.80rem, 1.10vw, 1.45rem);

      backdrop-filter: blur(var(--btn-blur)) saturate(1.10);
      -webkit-backdrop-filter: blur(var(--btn-blur)) saturate(1.10);

      transition: transform .18s ease-out, box-shadow .22s ease-out, border-color .2s ease-out, filter .2s ease-out;
      transform: translateZ(0);
      overflow:hidden;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      contain: paint;
    }

    .nav-btn:hover{
      transform: translateY(-3px) translateZ(0);
      border-color: rgba(255,235,180,0.86);
      box-shadow:
        0 20px 44px rgba(0,0,0,0.48),
        0 9px 16px rgba(0,0,0,0.26),
        0 0 26px rgba(246,211,122,0.10),
        inset 0 0 0 1px rgba(255,255,255,0.05),
        inset 0 18px 26px rgba(255,255,255,0.020);
      filter: brightness(1.03);
    }

    .nav-btn span{
      position:relative;
      z-index:2;
      width:100%;
      max-width:100%;
      text-align:center;
      line-height:1.12;
      font-size: var(--btn-font-max);
      font-weight: 900;
      letter-spacing: clamp(0.10em, 0.14vw, 0.14em);
      text-indent: 0.10em;
      white-space: normal;
      word-break: break-word;
      overflow-wrap: anywhere;
    }

    @media (max-width: 900px){
      :root{
        --outer-side: 10px;
        --stage-top: clamp(3.6rem, 6.8vh, 5.1rem);

        --zen-opacity: .84;
        --zen-bright: .92;
        --zen-contrast: 1.20;
        --zen-posY: 58%;

        --btn-h: clamp(50px, 6.4vh, 74px);
        --btn-font-max: clamp(0.94rem, 3.5vw, 1.06rem);

        --nav-cols: 2;
        --nav-pad: 18px;

        --btn-blur-m: 2.0px;
        --nav-col-gap: .70rem;
        --nav-row-gap: .70rem;

        --nav-top: calc(var(--stage-top) + clamp(0.8rem, 3.2vh, 2.2rem));
        --nav-bottom: calc(var(--frame-inset) + var(--glass-inset) + clamp(0.9rem, 5.2vh, 3.0rem));

        --title-top: calc(.85rem + env(safe-area-inset-top));
        --title-size: clamp(2.2rem, 8.6vw, 3.5rem);
      }

      .hero-inner{
        width: calc(100vw - (2 * var(--outer-side)));
        margin: 0 var(--outer-side);
        height:100dvh;
        min-height:100dvh;
        padding:
          calc(1.0rem + env(safe-area-inset-top))
          .75rem
          calc(1.0rem + env(safe-area-inset-bottom));
      }

      .side-glass{ display:none; }

      .nav-area{
        left: 50%;
        right: auto;
        transform: translateX(-50%);
        width: min(560px, calc(100% - (2 * (var(--frame-inset) + var(--glass-inset) + var(--nav-pad)))));
      }

      .nav-btn{
        backdrop-filter: blur(var(--btn-blur-m)) saturate(1.08);
        -webkit-backdrop-filter: blur(var(--btn-blur-m)) saturate(1.08);
      }
      .nav-btn:hover{ transform: translateY(-2px); }

      @media (max-width: 420px){
        :root{ --nav-cols: 1; }
      }
    }

    a.nav-btn,
    a.nav-btn:visited,
    a.nav-btn:hover,
    a.nav-btn:active{
      color: inherit !important;
    }
  </style>
</head>

<body class="locked">
  <div class="login-overlay" id="loginOverlay">
    <div class="login-box">
      <div class="login-title crystal" data-text="Tasun è³‡æ–™ Â· ç™»å…¥">Tasun è³‡æ–™ Â· ç™»å…¥</div>
      <div class="login-sub" id="loginSub"></div>

      <form id="loginForm">
        <div class="login-field">
          <label for="username">ä½¿ç”¨è€…åç¨±</label>
          <select id="username" name="username" autocomplete="username"></select>
        </div>

        <div class="login-field">
          <label for="password">å¯†ç¢¼</label>
          <div class="login-pwd-wrapper">
            <input id="password" name="password" type="password" autocomplete="current-password" class="login-pwd-input" />
            <button type="button" class="btn-eye-login" id="btnTogglePwd">ğŸ‘</button>
          </div>
        </div>

        <div class="login-error" id="loginError"></div>

        <div class="login-actions">
          <button type="submit" class="btn-login crystal" data-text="ç™»å…¥">ç™»å…¥</button>
          <button type="button" class="btn-secondary crystal" id="btnForceRelogin" data-text="åˆ‡æ›/é‡æ–°ç™»å…¥">åˆ‡æ›/é‡æ–°ç™»å…¥</button>
        </div>
      </form>
    </div>
  </div>

  <main class="hero">
    <div class="hero-inner">
      <div class="ripple-film" aria-hidden="true"></div>
      <div class="side-glass side-glass-left" aria-hidden="true"></div>
      <div class="side-glass side-glass-right" aria-hidden="true"></div>

      <div class="lotus-stage" aria-hidden="true">
        <div class="zen-visual" aria-hidden="true">
          <img id="zenImg" src="ä½›æ•™ç¦ªæ„ä¸»è¦–è¦º.png" alt="">
        </div>
      </div>

      <div class="user-bar">
        <div class="user-pill" id="userInfo">ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥</div>
        <button class="btn-switch" id="btnSwitchUser" type="button">åˆ‡æ›å¸³è™Ÿ</button>
      </div>

      <div class="site-title-wrapper">
        <div class="site-title" data-text="Tasun è³‡æ–™">Tasun è³‡æ–™</div>
      </div>

      <div class="nav-area" id="navArea"></div>
    </div>
  </main>

  <script>
    const AUTH_KEY    = "tasunAuthTable_v1";
    const CURRENT_KEY = "tasunCurrentUser_v1";
    const SESSION_KEY = "tasunSessionLogin_v1";

    const withV = window.__withV || ((u)=>u);

    // âœ…âœ…âœ… æ·é‹å…¥å£ï¼šæ°¸é å›ºå®šåˆ°ã€Œæ±æ±å·¥ç¨‹ç®¡ç†è¡¨.htmlã€
    const METRO_HREF  = "æ±æ±å·¥ç¨‹ç®¡ç†è¡¨.html";
    const METRO_LABEL = "æ·é‹æ±æ­¢æ±æ¹–ç·š";

    // âœ… é€£çµå°ç…§è¡¨ï¼šç”¨ã€ŒæŒ‰éµåç¨±(label)ã€æ±ºå®š hrefï¼ˆä¸çœ‹æŒ‰éµä½ç½®ï¼‰
    // ä¹‹å¾Œä½ è¦æ–°å¢æŒ‰éµï¼šåªè¦ label ä¸€æ¨£ï¼ˆæˆ–ä½ æ–°å¢ä¸€æ¢å°ç…§ï¼‰ï¼Œå°±æœƒè‡ªå‹•é€£å°ç¶²å€
    const ROUTE_BY_LABEL = {
      "è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨": "è‡»é¼ç®¡ç†è¡¨.html",
      [METRO_LABEL]: METRO_HREF,
      "é›²ç«¯æª”æ¡ˆ": "https://www.dropbox.com/",
      "å·¥ç¨‹è³‡æ–™åº«": "å·¥ç¨‹è³‡æ–™åº«.html",
      "è³‡æ–™åº«": "è³‡æ–™åº«.html",
      "ç³»çµ± / æ¬Šé™": "æ¬Šé™è¡¨.html"
    };

    // âœ… å›ºå®šæŒ‰éˆ•å®šç¾©ï¼ˆå¯èª¿æ•´é †åºä¸æœƒå½±éŸ¿é€£çµèˆ‡æ¬Šé™å°æ‡‰ï¼‰
    const CANONICAL = [
      { id:"btn1", label:"è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨", roles:["admin","write","read"] },
      { id:"btn2", label:METRO_LABEL,         roles:["admin","write","read"] },
      { id:"btn3", label:"é›²ç«¯æª”æ¡ˆ",          target:"_blank", roles:["admin","write","read"] },
      { id:"btn4", label:"å·¥ç¨‹è³‡æ–™åº«",        roles:["admin","write"] },
      { id:"btn5", label:"è³‡æ–™åº«",            roles:["admin","write","read"] }
    ];

    const SYSTEM_BTN = { id:"systemBtn", label:"ç³»çµ± / æ¬Šé™", roles:["admin"] };

    const LEGACY_BUTTON_KEYS = ["btn1","btn2","btn3","btn4","btn5"];
    const $ = (sel) => document.querySelector(sel);

    function hrefToDom(href){
      const h = String(href || "").trim();
      if(!h) return "#";
      if(/^https?:\/\//i.test(h)) return h;
      if(/^mailto:/i.test(h)) return h;
      return withV(encodeURI(h));
    }

    function crystalizeEl(el){
      if(!el) return;
      const t = (el.textContent || "").trim();
      if(t) el.setAttribute("data-text", t);
    }
    function crystalizeAll(root=document){
      root.querySelectorAll(".site-title, .crystal, .nav-btn span, .user-pill, .btn-switch, .login-title, .btn-login, .btn-secondary")
        .forEach(crystalizeEl);
    }

    function getDefaultAuthTableLegacy(btnCount){
      const keys = Array.from({length: btnCount}, (_, i) => `btn${i+1}`);
      const mkAll = () => Object.fromEntries(keys.map(k => [k, true]));
      const mkOnlyLast = () => Object.fromEntries(keys.map((k, i) => [k, i === btnCount - 1]));
      return [
        { user:"alex",  pass:"Tasun08040224", role:"admin", ...mkAll() },
        { user:"JOYCE", pass:"09220224",      role:"admin", ...mkAll() },
        { user:"tasun", pass:"tasun08040224", role:"write", ...mkAll() },
        { user:"wu",    pass:"123456",        role:"read",  ...mkOnlyLast() }
      ];
    }

    function normalizeRowFromStorage(row, btnCount){
      const username = (row?.username ?? row?.user ?? row?.name ?? row?.account ?? "").toString().trim();
      const password = (row?.password ?? row?.pass ?? "").toString();
      const level    = (row?.level ?? row?.role ?? "read").toString().trim().toLowerCase();

      const out = [];
      for(let i=0;i<btnCount;i++){
        const k = `btn${i+1}`;
        out[i] = !!row?.[k];
      }
      return { username, password, level, buttons: out };
    }

    function loadAuthTable(btnCount){
      const raw = localStorage.getItem(AUTH_KEY);
      if(!raw){
        const legacy = getDefaultAuthTableLegacy(btnCount);
        localStorage.setItem(AUTH_KEY, JSON.stringify(legacy));
        return legacy.map(r => normalizeRowFromStorage(r, btnCount));
      }
      try{
        const parsed = JSON.parse(raw);
        const arr = Array.isArray(parsed) ? parsed : (parsed && Array.isArray(parsed.users) ? parsed.users : null);
        if(Array.isArray(arr)){
          const mapped = arr.map(r => normalizeRowFromStorage(r, btnCount)).filter(x => x.username);
          if(mapped.length) return mapped;
        }
      }catch(e){}
      const legacy = getDefaultAuthTableLegacy(btnCount);
      localStorage.setItem(AUTH_KEY, JSON.stringify(legacy));
      return legacy.map(r => normalizeRowFromStorage(r, btnCount));
    }

    function setSession(user){
      try{
        sessionStorage.setItem(SESSION_KEY, JSON.stringify({ user: user.username, role: user.level, t: Date.now() }));
      }catch(e){}
    }
    function clearSession(){ try{ sessionStorage.removeItem(SESSION_KEY); }catch(e){} }
    function getSession(){
      try{
        const obj = JSON.parse(sessionStorage.getItem(SESSION_KEY) || "null");
        if(!obj || typeof obj !== "object") return null;
        const u = String(obj.user || "").trim();
        const r = String(obj.role || "").trim().toLowerCase();
        if(!u) return null;
        return { user: u, role: r, t: Number(obj.t || 0) };
      }catch(e){ return null; }
    }

    const loginOverlay = $("#loginOverlay");
    const loginForm    = $("#loginForm");
    const loginError   = $("#loginError");
    const loginSub     = $("#loginSub");
    const userInfo     = $("#userInfo");
    const btnSwitch    = $("#btnSwitchUser");
    const btnTogglePwd = $("#btnTogglePwd");
    const btnForceRelogin = $("#btnForceRelogin");
    const navArea      = $("#navArea");

    let AUTH_TABLE = [];
    let BTN_CONFIGS = [];
    let mainNavBtns = [];

    // âœ… æ¬Šé™å°æ‡‰æ”¹ç‚ºçœ‹ã€Œbtn1..btn5 çš„ idã€ï¼Œä¸çœ‹ indexï¼ˆé¿å…èª¿æ•´é †åºé€ æˆéŒ¯ä½ï¼‰
    function getAuthFlagIndexById(cfg){
      const id = String(cfg?.id || "").trim().toLowerCase();
      const m = id.match(/^btn(\d+)$/i);
      if(!m) return null;
      const n = parseInt(m[1], 10);
      if(!Number.isFinite(n)) return null;
      return n - 1;
    }

    function buildMainButtons(){
      AUTH_TABLE = loadAuthTable(LEGACY_BUTTON_KEYS.length);

      BTN_CONFIGS = [...CANONICAL, SYSTEM_BTN];
      mainNavBtns = [];
      navArea.innerHTML = "";

      BTN_CONFIGS.forEach((cfg) => {
        const a = document.createElement("a");
        a.className = "nav-btn";
        a.id = cfg.id || "";

        const span = document.createElement("span");
        span.textContent = cfg.label;
        a.appendChild(span);

        // âœ… æœ€çµ‚ hrefï¼šä¾ label å°æ‡‰ï¼ˆbtn2 æ°¸é å›ºå®šï¼‰
        let finalHref = ROUTE_BY_LABEL[cfg.label] || cfg.href || "#";
        if ((cfg.id || "").toLowerCase() === "btn2") finalHref = METRO_HREF;
        a.setAttribute("href", hrefToDom(finalHref));

        const t = cfg.target || "";
        if(t){
          a.target = t;
          if(t === "_blank") a.rel = "noopener noreferrer";
        }

        a.style.display = "none";
        navArea.appendChild(a);
        mainNavBtns.push(a);
      });

      crystalizeAll(document);
      requestAnimationFrame(layoutArcButtons);
    }

    function isRoleAllowed(cfg, level){
      if(!cfg || !Array.isArray(cfg.roles)) return true;
      return cfg.roles.includes(level);
    }

    function isAllowedByAuth(user, cfg){
      if(cfg && cfg.id === "systemBtn") return true;

      const flags = Array.isArray(user.buttons) ? user.buttons : [];
      const idx = getAuthFlagIndexById(cfg);

      // è‹¥ä¸æ˜¯ btn1..btn5ï¼ˆæœªç´å…¥æ¬Šé™æ¬„ä½ï¼‰ï¼Œé è¨­åªä¾ roles æ§åˆ¶ï¼ˆä¸æ“‹ï¼‰
      if(idx === null) return true;

      return (flags[idx] === undefined) ? true : !!flags[idx];
    }

    function populateUserSelect(){
      const sel = document.getElementById("username");
      AUTH_TABLE = loadAuthTable(LEGACY_BUTTON_KEYS.length);
      sel.innerHTML = "";

      if(!AUTH_TABLE.length){
        const opt = document.createElement("option");
        opt.value = "";
        opt.textContent = "ï¼ˆå°šç„¡ä½¿ç”¨è€…ï¼Œè«‹å…ˆåˆ°ã€Œç³»çµ± / æ¬Šé™ã€æ–°å¢ï¼‰";
        opt.disabled = true;
        opt.selected = true;
        sel.appendChild(opt);
        return;
      }

      const ph = document.createElement("option");
      ph.value = "";
      ph.textContent = "è«‹é¸æ“‡ä½¿ç”¨è€…";
      ph.disabled = true;
      ph.selected = true;
      sel.appendChild(ph);

      const names = Array.from(new Set(AUTH_TABLE.map(r => r.username).filter(Boolean)));
      names.sort((a,b)=>a.localeCompare(b, "zh-Hant"));
      names.forEach(name => {
        const opt = document.createElement("option");
        opt.value = name;
        opt.textContent = name;
        sel.appendChild(opt);
      });
    }

    function resetButtonsForLogout(){
      mainNavBtns.forEach(btn => btn.style.display = "none");
      navArea.classList.remove("arc");
      requestAnimationFrame(layoutArcButtons);
    }

    function findUser(username, password){
      const u = (username || "").trim();
      return AUTH_TABLE.find(row => row.username === u && row.password === password);
    }

    function showLogin(){
      document.body.classList.add("locked");
      loginOverlay.style.display = "flex";
      loginError.textContent = "";
      loginSub.textContent = "";
      document.getElementById("password").value = "";

      populateUserSelect();
      resetButtonsForLogout();
      userInfo.textContent = "ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥";
      crystalizeEl(userInfo);

      autoEnterIfSessionValid();
    }

    function autoEnterIfSessionValid(){
      const sess = getSession();
      if(!sess) return;

      const u = AUTH_TABLE.find(r => r.username === sess.user);
      if(!u){ clearSession(); return; }
      if(String(u.level||"").toLowerCase() !== String(sess.role||"").toLowerCase()){
        clearSession(); return;
      }

      loginSub.textContent = `å·²ç™»å…¥ï¼š${u.username}ï¼ˆ${u.level}ï¼‰â€¦ æ­£åœ¨é€²å…¥`;
      setTimeout(() => {
        if(!getSession()) return;
        applyUser(u);
      }, 220);
    }

    function applyUser(user){
      document.body.classList.remove("locked");
      loginOverlay.style.display = "none";
      loginSub.textContent = "";

      setSession(user);
      localStorage.setItem(CURRENT_KEY, JSON.stringify({ user: user.username, role: user.level }));

      userInfo.textContent = `ç›®å‰ä½¿ç”¨è€…ï¼š${user.username} (${user.level})`;
      crystalizeEl(userInfo);

      mainNavBtns.forEach((btn, index) => {
        const cfg = BTN_CONFIGS[index];
        const okRole = isRoleAllowed(cfg, user.level);
        const okAuth = isAllowedByAuth(user, cfg);
        btn.style.display = (okRole && okAuth) ? "flex" : "none";

        // âœ… æœ€å¾Œä¿éšªï¼šbtn2 æ°¸é å›ºå®š
        if ((cfg?.id || "").toLowerCase() === "btn2") {
          btn.setAttribute("href", hrefToDom(METRO_HREF));
        }else{
          // å†ä¿éšªä¸€æ¬¡ï¼šä¾ label å°æ‡‰ hrefï¼ˆä¸çœ‹ä½ç½®ï¼‰
          const byName = ROUTE_BY_LABEL[cfg?.label] || cfg?.href || "#";
          btn.setAttribute("href", hrefToDom(byName));
        }
      });

      crystalizeAll(document);
      requestAnimationFrame(layoutArcButtons);
    }

    (function(){
      const img = document.getElementById("zenImg");
      if(img) img.src = withV(img.getAttribute("src") || img.src);
    })();

    // âœ… æ¡Œæ©Ÿå¼§å½¢ä½ˆå±€ï¼šè®“å…©å´æŒ‰éµåƒæ‹±è‘—è“®èŠ±ï¼ˆè²¼è¿‘èŠ±ç“£å¼§ç·šï¼‰
    function layoutArcButtons(){
      if(!navArea) return;

      const isDesktop = window.matchMedia("(min-width: 901px)").matches;

      // æ‰‹æ©Ÿ/çª„è¢å¹•ï¼šå›åˆ° grid
      if(!isDesktop){
        navArea.classList.remove("arc");
        mainNavBtns.forEach(b=>{
          b.style.removeProperty("--x");
          b.style.removeProperty("--y");
          b.style.removeProperty("--rot");
        });
        return;
      }

      // æ¡Œæ©Ÿï¼šåªå°ã€Œç›®å‰é¡¯ç¤ºã€çš„æŒ‰éµæ’å¼§å½¢
      const visible = mainNavBtns.filter(b => b.style.display !== "none");
      if(!visible.length){
        navArea.classList.remove("arc");
        return;
      }

      navArea.classList.add("arc");

      // å›ºå®š 3 å·¦ + 3 å³ï¼ˆä¾ä½ åŸæœ¬ç•«é¢ï¼šå·¦=btn1/btn3/btn5ï¼Œå³=btn2/btn4/systemï¼‰
      // è‹¥æœªä¾†æŒ‰éµæ•¸æ”¹è®Šï¼Œä¹Ÿä¸æœƒçˆ†ï¼šå¤šçš„ä»ç…§åºæ”¾å…¥å·¦å³æ¬„
      const leftIdx  = [0,2,4].filter(i=>mainNavBtns[i]);
      const rightIdx = [1,3,5].filter(i=>mainNavBtns[i]);

      const rect = navArea.getBoundingClientRect();
      const H = Math.max(1, rect.height);
      const W = Math.max(1, rect.width);

      // è®“å¼§å½¢ä¸­å¿ƒç•¥ä½æ–¼æ­£ä¸­ï¼ˆè²¼è¿‘è“®èŠ±æœ¬é«”ä¸­å¿ƒï¼‰
      const centerY = H * 0.54;

      // ä¸Šç«¯æ›´è²¼è¿‘èŠ±ç“£ï¼šæŠŠ yTop æ‹‰é«˜ä¸€äº›
      const yTop    = Math.max(H * 0.10, 52);
      const yBottom = Math.min(H * 0.86, H - 52);

      const slots = 3;
      const ys = Array.from({length: slots}, (_,i)=>{
        const t = (slots === 1) ? 0.5 : i/(slots-1);
        return yTop + (yBottom - yTop) * t;
      });

      // å¼§å½¢ï¼šä¸­é–“æœ€é è¿‘è“®èŠ±ï¼Œè¶Šä¸Š/è¶Šä¸‹è¶Šå¤–å´
      const minAbsX = Math.min(W * 0.17, 215);
      const curve   = Math.min(W * 0.14, 185);
      const powK    = 1.45;

      function absX(y){
        const denom = Math.max(1, (yBottom - yTop));
        const t = Math.min(1, Math.abs((y - centerY) / denom) * 2.0);
        return minAbsX + curve * Math.pow(t, powK);
      }

      function place(btn, sideSign, slotIndex){
        if(!btn || btn.style.display === "none") return;
        const y = ys[Math.min(slots-1, Math.max(0, slotIndex))];
        const x = sideSign * absX(y);

        // æ—‹è½‰å¾®è§’åº¦ï¼Œè®“æ‹±æ„Ÿæ›´è‡ªç„¶
        const rot = sideSign * ( (slotIndex - 1) * 1.2 );

        btn.style.setProperty("--x", `${x}px`);
        btn.style.setProperty("--y", `${y}px`);
        btn.style.setProperty("--rot", `${rot}deg`);
      }

      for(let i=0;i<slots;i++){
        place(mainNavBtns[leftIdx[i]],  -1, i);
        place(mainNavBtns[rightIdx[i]],  1, i);
      }
    }

    // resize æ™‚é‡ç®—ï¼ˆé¿å…è¦–çª—æ”¹è®Šå¾Œå¼§å½¢è·‘æ‰ï¼‰
    let _raf = 0;
    function scheduleLayout(){
      cancelAnimationFrame(_raf);
      _raf = requestAnimationFrame(layoutArcButtons);
    }
    window.addEventListener("resize", scheduleLayout);

    // æ¬Šé™è¡¨è®Šæ›´æ™‚ï¼ˆlocalStorage æ›´æ–°ï¼‰åŒæ­¥æ›´æ–°é¸å–®ã€ä¸¦ä¿æŒå¼§å½¢
    window.addEventListener("storage", (e) => {
      if(e.key === AUTH_KEY){
        AUTH_TABLE = loadAuthTable(LEGACY_BUTTON_KEYS.length);
        if(document.body.classList.contains("locked")){
          populateUserSelect();
          autoEnterIfSessionValid();
        }else{
          scheduleLayout();
        }
      }
    });

    buildMainButtons();
    crystalizeAll(document);
    showLogin();

    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      if(!username){
        loginError.textContent = "è«‹å…ˆé¸æ“‡ä½¿ç”¨è€…åç¨±ã€‚";
        return;
      }
      const user = findUser(username, password);
      if(!user){
        loginError.textContent = "å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚";
        return;
      }
      loginError.textContent = "";
      applyUser(user);
      document.getElementById("password").value = "";
    });

    btnForceRelogin.addEventListener("click", () => {
      clearSession();
      loginSub.textContent = "è«‹é‡æ–°è¼¸å…¥å¯†ç¢¼ç™»å…¥";
      loginError.textContent = "";
      document.getElementById("password").value = "";
      document.getElementById("password").focus();
    });

    btnSwitch.addEventListener("click", () => {
      clearSession();
      localStorage.removeItem(CURRENT_KEY);
      showLogin();
    });

    btnTogglePwd.addEventListener("click", () => {
      const pwd = document.getElementById("password");
      pwd.type = (pwd.type === "password") ? "text" : "password";
    });
  </script>
</body>
</html>
