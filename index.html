<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tasun è³‡æ–™é¦–é  Â· ç©ºç„¡æ˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --gold:#f6d37a;
      --gold-soft: rgba(246,211,122,.75);
      --safe: clamp(14px, 2.2vw, 22px);

      --btn-h: clamp(56px, 7.2vh, 68px);
      --btn-w: clamp(240px, 26vw, 440px);

      --visual-w: clamp(320px, 36vw, 520px);
      --visual-h: clamp(520px, 64vh, 720px);

      /* âœ… æ¨™é¡Œä½ç½®ï¼ˆåœ–2æ¨™ç¤º1ï¼‰ */
      --title-top: clamp(30px, 3.8vh, 52px);

      /* âœ… ç…™éœ§é ‚èˆ‡é«˜åº¦ï¼ˆç…™éœ§è¦ç´°ã€ä¸‰æŸæ¸…æ¥šå¯åˆ†é›¢ï¼‰ */
      --smoke-top: clamp(90px, 10.5vh, 124px);
      --smoke-h: clamp(230px, 33vh, 380px);

      /* âœ… è“®èŠ±è®Šå¤§ï¼ˆåœ–2æ¨™ç¤º1ï¼‰ */
      --lotus-size: clamp(260px, 26vw, 380px);
      --lotus-bottom: clamp(90px, 10.5vh, 130px);

      /* âœ… å€’å½±é«˜åº¦ */
      --refl-h: clamp(170px, 22vh, 260px);

      --txt-md: clamp(16px, 2.0vw, 30px);
      --txt-sm: clamp(13px, 1.45vw, 20px);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:"Noto Serif TC", system-ui, -apple-system, "Microsoft JhengHei", sans-serif;
      color: var(--gold);
      overflow-x:hidden;
      background:
        radial-gradient(circle at 20% 10%, rgba(246,211,122,.16) 0, transparent 42%),
        radial-gradient(circle at 80% 88%, rgba(246,211,122,.14) 0, transparent 46%),
        radial-gradient(circle at 50% 60%, rgba(246,211,122,.06) 0, transparent 55%),
        linear-gradient(180deg, #070604 0%, #050302 55%, #040202 100%);
    }

    .frame{
      min-height:100vh;
      padding: var(--safe);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .shell{
      width:min(1280px, 96vw);
      min-height:min(720px, 88vh);
      border-radius:26px;
      position:relative;
      overflow:hidden;
      background:
        radial-gradient(circle at 50% 15%, rgba(246,211,122,.10) 0, rgba(0,0,0,.08) 55%, rgba(0,0,0,.20) 100%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.16));
      box-shadow: 0 18px 60px rgba(0,0,0,.55), inset 0 0 0 1px rgba(246,211,122,.10);
    }

    .shell::before{
      content:"";
      position:absolute; inset:-2px;
      pointer-events:none;
      background:
        radial-gradient(90% 42% at 50% -6%,
          rgba(246,211,122,.32) 0%,
          rgba(246,211,122,.14) 32%,
          rgba(246,211,122,.06) 56%,
          rgba(0,0,0,0) 78%),
        radial-gradient(circle at 50% 55%,
          rgba(0,0,0,0) 0%,
          rgba(0,0,0,.16) 62%,
          rgba(0,0,0,.52) 100%);
      mix-blend-mode: screen;
      opacity:.68;
    }

    /* ============= topbar ============= */
    .topbar{
      position:absolute;
      left: var(--safe);
      right: var(--safe);
      top: var(--safe);
      display:flex;
      gap: 12px;
      align-items:center;
      justify-content:space-between;
      z-index:10;
      flex-wrap:wrap;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      padding: 10px 14px;
      border-radius:999px;
      background: rgba(0,0,0,.40);
      border: 1px solid rgba(246,211,122,.22);
      box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      white-space:nowrap;
      max-width:100%;
    }

    .btn{
      cursor:pointer;
      user-select:none;
      appearance:none;
      outline:none;
      font: inherit;
      color: var(--gold);
      border-radius:999px;
      border: 1px solid rgba(246,211,122,.28);
      padding: 10px 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.18));
      box-shadow: 0 10px 28px rgba(0,0,0,.38), inset 0 0 0 1px rgba(255,255,255,.04);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .btn:hover{ filter: brightness(1.05); }
    .btn:active{ transform: translateY(1px); }

    /* âœ… æ¨™é¡Œå¾€ä¸Šã€ä¸èˆ‡ç…™éœ§/è“®èŠ±é‡ç–Šï¼ˆåœ–2æ¨™ç¤º1ã€2ï¼‰ */
    .title{
      position:absolute;
      top: var(--title-top);
      left:0; right:0;
      text-align:center;
      z-index:9;
      pointer-events:none;
      padding: 0 18px;
    }
    .title h1{
      margin:0;
      font-size: clamp(44px, 5.4vw, 78px);
      letter-spacing:.12em;
      color: var(--gold);
      text-shadow:
        0 4px 18px rgba(0,0,0,.6),
        0 0 22px rgba(246,211,122,.18);
      font-weight:700;
      line-height:1.06;
    }

    /* ============= layout ============= */
    .center{
      position:absolute;
      inset: calc(var(--safe) + 94px) var(--safe) var(--safe) var(--safe);
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      gap: clamp(16px, 2.4vw, 44px);
      align-items:start;
      justify-items:center;
      z-index:6;
      padding: clamp(10px, 2.2vw, 26px);
    }

    .col{
      width:100%;
      display:flex;
      flex-direction:column;
      gap: clamp(16px, 4.2vh, 44px);
      align-items:center;
      justify-content:flex-start;
      min-width: min(420px, 100%);
      /* âœ… å…©å´ç¬¬ä¸€é¡†æŒ‰éµä¸Šç«¯èˆ‡ç…™éœ§æœ€ä¸Šç«¯é½Š */
      padding-top: calc(var(--smoke-top) - 18px);
    }

    .nav-btn{
      width: var(--btn-w);
      max-width: 100%;
      min-height: var(--btn-h);
      padding: 16px 22px;
      border-radius: 999px;
      border: 1px solid rgba(246,211,122,.26);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.22));
      box-shadow:
        0 14px 40px rgba(0,0,0,.48),
        inset 0 0 0 1px rgba(255,255,255,.04);
      color: var(--gold);
      text-decoration:none;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      letter-spacing:.10em;
      font-size: clamp(15px, 1.5vw, 19px);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .nav-btn:hover{ filter:brightness(1.06); }
    .nav-btn:active{ transform: translateY(1px); }

    /* ================== è¦–è¦ºä¸­æŸ±ï¼ˆåœ–2æ¨™ç¤º2ï¼šä¸è¦èƒŒæ™¯ï¼‰ ================== */
    .visual{
      width: var(--visual-w);
      height: var(--visual-h);
      position:relative;
      isolation:isolate;
      pointer-events:none;
    }
    /* âœ… å®Œå…¨å–æ¶ˆä»»ä½•ä¸­é–“é•·æ–¹å½¢/æ–¹å¡Šåº•åœ– */
    .visual::before,
    .visual::after{ content:none !important; display:none !important; }

    /* ============= smoke (ä¸‰æŸæ¸…æ¥šåˆ†é›¢ã€ç„¡æ—é‚Šé¡è‰²) ============= */
    .smoke{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      top: var(--smoke-top);
      width: min(92%, 420px);
      height: var(--smoke-h);
      z-index:3;
    }

    .smokeBundle{
      position:absolute;
      top:0;
      width: 22%;
      height:100%;
      opacity:.95;
      mix-blend-mode: screen;
      /* âœ… æ”¶é‚Šï¼šè®“æ¯æŸæ›´ç¨ç«‹ã€ä¸æœƒæ—é‚Šä¸€åœ˜ç™½ */
      -webkit-mask-image: radial-gradient(42% 90% at 50% 55%, rgba(0,0,0,1) 0%, rgba(0,0,0,.92) 35%, rgba(0,0,0,.35) 58%, rgba(0,0,0,0) 80%);
      mask-image: radial-gradient(42% 90% at 50% 55%, rgba(0,0,0,1) 0%, rgba(0,0,0,.92) 35%, rgba(0,0,0,.35) 58%, rgba(0,0,0,0) 80%);
    }
    .smokeBundle.b1{ left: 26%; }
    .smokeBundle.b2{ left: 44%; }
    .smokeBundle.b3{ left: 62%; }

    .smokeLayer{
      position:absolute;
      inset:0;
      background: url('smoke.png') center/contain no-repeat;
      /* âœ… ç…™éœ§è¦ç´°ï¼šé™ blurã€é™äº®é‚Šã€å»é¡è‰² */
      filter: grayscale(1) brightness(1.10) contrast(1.06) blur(0.12px);
      transform-origin: 50% 100%;
      opacity:.26;
    }
    /* æ¯æŸå…©å±¤ï¼šç¸®æ”¾/åç§»ä¸åŒï¼Œå½¢æˆã€Œç´°ä¸”å¤šæ¢ã€ */
    .b1 .l1{ transform: translate(-14%, 2%) scale(1.08); opacity:.26; }
    .b1 .l2{ transform: translate(10%, -3%) scale(0.92); opacity:.20; }

    .b2 .l1{ transform: translate(-6%, 0%) scale(1.14); opacity:.28; }
    .b2 .l2{ transform: translate(6%, -5%) scale(0.86); opacity:.18; }

    .b3 .l1{ transform: translate(-10%, 4%) scale(1.03); opacity:.24; }
    .b3 .l2{ transform: translate(12%, -4%) scale(0.88); opacity:.18; }

    /* ============= lotus ============= */
    .lotus{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      bottom: var(--lotus-bottom);
      width: var(--lotus-size);
      height:auto;
      z-index:4;
      filter:
        drop-shadow(0 18px 34px rgba(0,0,0,.58))
        drop-shadow(0 0 20px rgba(246,211,122,.16));
    }
    .lotus img{ width:100%; height:auto; display:block; }

    /* ============= water + reflection (èŠ±ç“£ä¿ç•™ã€ç™½è‰²å»é™¤ã€æ°´æ¼£æ¼ªæ„Ÿ) ============= */
    .water{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      bottom: calc(var(--lotus-bottom) - 10px);
      width: min(92%, 520px);
      height: var(--refl-h);
      z-index:2;
      pointer-events:none;
      overflow:hidden;
      /* âœ… åªåœ¨å€’å½±ç¯„åœåšæ°´æ„Ÿ */
      -webkit-mask-image: radial-gradient(58% 85% at 50% 16%, rgba(0,0,0,1) 0%, rgba(0,0,0,.95) 28%, rgba(0,0,0,.50) 56%, rgba(0,0,0,0) 82%);
      mask-image: radial-gradient(58% 85% at 50% 16%, rgba(0,0,0,1) 0%, rgba(0,0,0,.95) 28%, rgba(0,0,0,.50) 56%, rgba(0,0,0,0) 82%);
    }

    /* âœ… æ°´æ¼£æ¼ªï¼ˆåœ–1æ¨™ç¤ºï¼šå€’å½±ç¯„åœè¦æœ‰æ°´æ¼£ç§»æ„Ÿï¼‰ */
    .water::before{
      content:"";
      position:absolute; inset:-20%;
      background:
        repeating-radial-gradient(circle at 50% 22%,
          rgba(246,211,122,.12) 0px,
          rgba(246,211,122,.12) 1px,
          rgba(0,0,0,0) 10px,
          rgba(0,0,0,0) 18px);
      opacity:.20;
      filter: blur(0.6px);
      animation: rippleMove 6.5s linear infinite;
      mix-blend-mode: screen;
    }
    .water::after{
      content:"";
      position:absolute; inset:-20%;
      background:
        repeating-radial-gradient(circle at 52% 26%,
          rgba(255,255,255,.08) 0px,
          rgba(255,255,255,.08) 1px,
          rgba(0,0,0,0) 12px,
          rgba(0,0,0,0) 22px);
      opacity:.10;
      filter: blur(0.8px);
      animation: rippleMove2 9s linear infinite;
      mix-blend-mode: screen;
    }

    @keyframes rippleMove{
      0%{ transform: translate(0,0) rotate(0deg) scale(1); }
      100%{ transform: translate(-18px, 22px) rotate(0.6deg) scale(1.02); }
    }
    @keyframes rippleMove2{
      0%{ transform: translate(0,0) rotate(0deg) scale(1); }
      100%{ transform: translate(24px, 18px) rotate(-0.6deg) scale(1.03); }
    }

    .reflection{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      top: 0;
      width: var(--lotus-size);
      height: 100%;
      overflow:hidden;
      /* âœ… å€’å½±æ›´æš—æ›´é€æ˜ï¼ˆåœ–2æ¨™ç¤º4ï¼‰ */
      opacity: .26;
      /* âœ… æ›´åƒæ°´ä¸­ï¼šæš—ã€æŸ”ã€æ”¶ç™½ */
      filter: blur(0.65px) brightness(0.55) contrast(1.08) saturate(0.9);
      mix-blend-mode: multiply;
    }
    .reflection img{
      width:100%;
      height:auto;
      display:block;
      transform: scaleY(-1);
      transform-origin: 50% 0%;
      opacity:.92;
    }
    /* âœ… å†æ¬¡æ”¶é‚Šï¼Œå»é™¤å€’å½±å‘¨åœç™½ï¼ˆåœ–2æ¨™ç¤º4ï¼‰ */
    .reflection::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(60% 80% at 50% 18%,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,0) 40%,
        rgba(0,0,0,.55) 68%,
        rgba(0,0,0,.86) 100%);
      opacity:.55;
      pointer-events:none;
    }

    /* ============= text 3d ============= */
    .txt3d{
      color: rgba(246,211,122,.82);
      text-shadow:
        0 2px 0 rgba(160,120,40,.18),
        0 6px 16px rgba(0,0,0,.55),
        0 0 18px rgba(246,211,122,.12);
      letter-spacing: .18em;
      font-weight: 700;
      filter: saturate(1.02);
    }

    /* ============= words ============= */
    .words{
      position:absolute;
      inset:0;
      z-index:5;
      pointer-events:none;
    }

    /* âœ… åªä¿ç•™ä¸€çµ„ã€Œç©ºç„¡æ˜ã€æ”¾åœ¨ç…™éœ§æœ€é«˜è™•ï¼ˆåœ–1æ¨™ç¤º6ï¼‰ */
    .w-smokeTop{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      top: calc(var(--smoke-top) - 26px);
      display:flex;
      gap: clamp(18px, 3.0vw, 46px);
      font-size: var(--txt-md);
      opacity:.92;
    }

    /* âœ… å·¦å´æ–‡å­—ï¼šå–®ä¸€å­—å¾€ä¸‹æ’åˆ—ï¼ˆç©º/éˆ/ç„¡/æˆ‘ï¼‰ï¼Œä¸”ä¸è¦å¤šé¤˜ã€Œç©ºã€ï¼ˆåœ–1æ¨™ç¤º5ã€8ï¼‰ */
    .w-left{
      position:absolute;
      left: 6%;
      top: calc(var(--smoke-top) + 18px);
      display:flex;
      flex-direction:column;
      gap: clamp(12px, 1.6vw, 18px);
      font-size: var(--txt-md);
      opacity:.88;
      align-items:center;
    }

    /* âœ… å³å´æ–‡å­—ï¼šå–®ä¸€å­—å¾€ä¸‹æ’åˆ—ï¼ˆæ¸…/æ˜/å¯§/éœï¼‰ï¼ˆåœ–1æ¨™ç¤º9ï¼‰ */
    .w-right{
      position:absolute;
      right: 6%;
      top: calc(var(--smoke-top) + 18px);
      display:flex;
      flex-direction:column;
      gap: clamp(12px, 1.6vw, 18px);
      font-size: var(--txt-md);
      opacity:.88;
      align-items:center;
    }

    .w-bottom{
      position:absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: clamp(18px, 3.4vh, 30px);
      display:flex;
      gap: clamp(18px, 3.2vw, 46px);
      font-size: var(--txt-md);
      opacity:.90;
    }

    /* ================== Login overlay ================== */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      z-index:50;
      background: rgba(0,0,0,.42);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }
    .overlay.show{ display:flex; }

    .loginCard{
      width:min(520px, 92vw);
      border-radius:18px;
      border:1px solid rgba(246,211,122,.22);
      background:
        radial-gradient(circle at 50% 0%, rgba(246,211,122,.18) 0, rgba(0,0,0,.10) 55%, rgba(0,0,0,.26) 100%),
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.18));
      box-shadow: 0 18px 60px rgba(0,0,0,.6), inset 0 0 0 1px rgba(255,255,255,.04);
      padding:18px;
    }
    .loginCard h2{
      margin:4px 0 14px;
      text-align:center;
      letter-spacing:.14em;
      font-size:20px;
      color: var(--gold);
      text-shadow: 0 8px 22px rgba(0,0,0,.55);
    }
    .row{ display:flex; flex-direction:column; gap:10px; margin:10px 0; }
    label{ font-size:13px; opacity:.9; letter-spacing:.1em; }
    select,input{
      width:100%;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.22);
      background: rgba(0,0,0,.40);
      color: var(--gold);
      padding:12px 14px;
      outline:none;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
      font-family:inherit;
    }
    .pwWrap{ position:relative; }
    .pwToggle{
      position:absolute;
      right:10px;
      top:50%;
      transform: translateY(-50%);
      border-radius:999px;
      padding:8px 10px;
      border:1px solid rgba(246,211,122,.22);
      background: rgba(0,0,0,.42);
      color: var(--gold);
      cursor:pointer;
      line-height:1;
    }
    .loginActions{
      display:flex;
      gap:10px;
      justify-content:space-between;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .hint{
      margin-top:10px;
      font-size:13px;
      opacity:.88;
      color: rgba(246,211,122,.88);
      text-shadow: 0 6px 18px rgba(0,0,0,.55);
      border-radius:14px;
      padding:10px 12px;
      border:1px solid rgba(246,211,122,.14);
      background: rgba(0,0,0,.22);
    }

    /* ================== æ‰‹æ©Ÿï¼šä»ä¿ç•™å·¦å³ç›´æ’ã€æ•´é«”å”èª¿ ================== */
    @media (max-width: 980px){
      .center{ grid-template-columns: 1fr; gap: 14px; }
      .col{ min-width:0; gap:12px; padding-top:0; }
      .nav-btn{ width: min(520px, 100%); }
      .visual{ width: min(520px, 96%); height: min(72vh, 720px); }

      :root{
        --title-top: clamp(18px, 2.6vh, 32px);
        --smoke-top: clamp(108px, 13vh, 140px);
        --lotus-bottom: clamp(84px, 10vh, 120px);
        --lotus-size: clamp(250px, 56vw, 360px);
      }

      .w-smokeTop{ top: calc(var(--smoke-top) - 22px); font-size: var(--txt-sm); gap: clamp(14px, 3.0vw, 26px); }
      .w-left{ left:4%; top: calc(var(--smoke-top) + 10px); font-size: var(--txt-sm); gap: clamp(8px, 1.2vw, 12px); }
      .w-right{ right:4%; top: calc(var(--smoke-top) + 10px); font-size: var(--txt-sm); gap: clamp(8px, 1.2vw, 12px); }
      .w-bottom{ font-size: var(--txt-sm); gap: clamp(14px, 3.0vw, 28px); bottom: clamp(14px, 2.6vh, 22px); }
    }

    @media (max-width: 560px){
      .topbar{ gap:10px; }
      .pill{ padding:8px 12px; }
      .btn{ padding:9px 12px; }
    }
  </style>
</head>

<body>
  <div class="frame">
    <div class="shell" id="shell">
      <div class="topbar">
        <div class="pill" id="whoPill">ç›®å‰ä½¿ç”¨è€…ï¼šâ€”</div>
        <button class="btn" id="switchBtn">åˆ‡æ›å¸³è™Ÿ</button>
      </div>

      <div class="title">
        <h1>Tasun è³‡æ–™</h1>
      </div>

      <div class="center">
        <!-- å·¦å´ 3 é¡† -->
        <div class="col" id="leftCol">
          <a class="nav-btn" data-key="btn1" href="è‡»é¼ç®¡ç†è¡¨.html">è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨</a>
          <a class="nav-btn" data-key="btn3" href="https://www.dropbox.com/" target="_blank" rel="noopener">é›²ç«¯æª”æ¡ˆ</a>
          <a class="nav-btn" data-key="btn5" href="è³‡æ–™åº«.html">è³‡æ–™åº«</a>
        </div>

        <!-- ä¸­å¤®è¦–è¦ºï¼ˆç„¡èƒŒæ™¯ã€ç…™éœ§ä¸‰æŸã€è“®èŠ±æ›´å¤§ã€å€’å½±å»ç™½ï¼‹æ°´æ¼£æ¼ªï¼‰ -->
        <div class="visual" aria-hidden="true">
          <!-- ç…™éœ§ä¸‰æŸï¼ˆæ›´ç´°ã€æ›´åˆ†é›¢ã€å»æ—è‰²ï¼‰ -->
          <div class="smoke">
            <div class="smokeBundle b1">
              <div class="smokeLayer l1"></div>
              <div class="smokeLayer l2"></div>
            </div>
            <div class="smokeBundle b2">
              <div class="smokeLayer l1"></div>
              <div class="smokeLayer l2"></div>
            </div>
            <div class="smokeBundle b3">
              <div class="smokeLayer l1"></div>
              <div class="smokeLayer l2"></div>
            </div>
          </div>

          <!-- æ–‡å­—ï¼ˆä¾ä½ åœ–ç¤ºä¿®æ­£ï¼‰ -->
          <div class="words">
            <!-- âœ… åªä¿ç•™ä¸€çµ„ç©ºç„¡æ˜ï¼Œæ”¾ç…™éœ§æœ€é«˜è™• -->
            <div class="w-smokeTop txt3d">
              <span>ç©º</span><span>ç„¡</span><span>æ˜</span>
            </div>

            <!-- âœ… å·¦å´ï¼šå–®å­—ç›´æ’ï¼ˆç©º/éˆ/ç„¡/æˆ‘ï¼‰ï¼Œå·²å»é™¤å¤šé¤˜ã€Œç©ºã€ -->
            <div class="w-left txt3d">
              <span>ç©º</span>
              <span>éˆ</span>
              <span>ç„¡</span>
              <span>æˆ‘</span>
            </div>

            <!-- âœ… å³å´ï¼šå–®å­—ç›´æ’ï¼ˆæ¸…/æ˜/å¯§/éœï¼‰ -->
            <div class="w-right txt3d">
              <span>æ¸…</span>
              <span>æ˜</span>
              <span>å¯§</span>
              <span>éœ</span>
            </div>

            <div class="w-bottom txt3d">
              <span>ç©º</span><span>ç„¡</span><span>æ˜</span><span>éœ</span>
            </div>
          </div>

          <!-- æ°´é¢ï¼‹å€’å½±ï¼ˆèŠ±ç“£ä¿ç•™ã€ç™½è‰²å»é™¤ã€æ°´æ¼£æ¼ªï¼‰ -->
          <div class="water">
            <div class="reflection">
              <img src="é€æ˜ç»ç’ƒè“®èŠ±.png" alt="">
            </div>
          </div>

          <!-- è“®èŠ± -->
          <div class="lotus">
            <img src="é€æ˜ç»ç’ƒè“®èŠ±.png" alt="Lotus">
          </div>
        </div>

        <!-- å³å´ 3 é¡†ï¼ˆbtn6 admin-onlyï¼‰ -->
        <div class="col" id="rightCol">
          <a class="nav-btn" data-key="btn2" href="ç”„é¼quality.html">ç¼ºå¤± / å“è³ª</a>
          <a class="nav-btn" data-key="btn4" href="å·¥ç¨‹è³‡æ–™åº«.html">å·¥ç¨‹è³‡æ–™åº«</a>
          <a class="nav-btn" data-key="btn6" data-admin-only="1" href="æ¬Šé™è¡¨.html">ç³»çµ± / æ¬Šé™</a>
        </div>
      </div>
    </div>
  </div>

  <!-- login overlay -->
  <div class="overlay" id="overlay">
    <div class="loginCard">
      <h2>Tasun è³‡æ–™ Â· ç™»å…¥</h2>

      <div class="row">
        <label for="userSel">å¸³è™Ÿï¼ˆä¸‹æ‹‰é¸å–®ï¼‰</label>
        <select id="userSel"></select>
      </div>

      <div class="row">
        <label for="pw">å¯†ç¢¼</label>
        <div class="pwWrap">
          <input id="pw" type="password" placeholder="è¼¸å…¥å¯†ç¢¼" autocomplete="current-password" />
          <button class="pwToggle" id="pwToggle" type="button" title="é¡¯ç¤º/éš±è—">ğŸ‘</button>
        </div>
      </div>

      <div class="loginActions">
        <button class="btn" id="loginBtn">ç™»å…¥</button>
        <button class="btn" id="closeLoginBtn" style="opacity:.9">é—œé–‰</button>
      </div>

      <div class="hint" id="hint">è«‹é¸æ“‡å¸³è™Ÿä¸¦è¼¸å…¥å¯†ç¢¼ã€‚</div>
    </div>
  </div>

<script>
(() => {
  const AUTH_KEY    = 'tasunAuthTable_v1';
  const CURRENT_KEY = 'tasunCurrentUser_v1';
  const BTN_META_KEY= 'tasunButtonMeta_v1';

  const BUTTON_DEFS = [
    { key:'btn1', name:'è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨', href:'è‡»é¼ç®¡ç†è¡¨.html' },
    { key:'btn2', name:'ç¼ºå¤± / å“è³ª',       href:'ç”„é¼quality.html' },
    { key:'btn3', name:'é›²ç«¯æª”æ¡ˆ',           href:'https://www.dropbox.com/' },
    { key:'btn4', name:'å·¥ç¨‹è³‡æ–™åº«',         href:'å·¥ç¨‹è³‡æ–™åº«.html' },
    { key:'btn5', name:'è³‡æ–™åº«',             href:'è³‡æ–™åº«.html' },
    { key:'btn6', name:'ç³»çµ± / æ¬Šé™',         href:'æ¬Šé™è¡¨.html' },
  ];

  function ensureButtonMeta(){
    localStorage.setItem(BTN_META_KEY, JSON.stringify(BUTTON_DEFS));
  }

  function seedAuthIfMissing(){
    let auth;
    try{ auth = JSON.parse(localStorage.getItem(AUTH_KEY) || 'null'); }catch(e){ auth = null; }
    if(Array.isArray(auth) && auth.length) return;

    const seed = [
      { user:'alex',  pass:'Tasun08040224', role:'admin', btn1:true, btn2:true, btn3:true, btn4:true, btn5:true },
      { user:'tasun', pass:'tasun08040224', role:'write', btn1:true, btn2:true, btn3:false, btn4:true, btn5:false },
      { user:'wu',    pass:'123456',        role:'read',  btn1:true, btn2:false,btn3:false, btn4:false,btn5:false },
      { user:'JOYCE', pass:'09220224',       role:'admin', btn1:true, btn2:true, btn3:true, btn4:true, btn5:true },
    ];
    localStorage.setItem(AUTH_KEY, JSON.stringify(seed));
  }

  function readAuth(){
    try{
      const a = JSON.parse(localStorage.getItem(AUTH_KEY) || '[]');
      return Array.isArray(a) ? a : [];
    }catch(e){ return []; }
  }

  function readCurrent(){
    try{
      const c = JSON.parse(localStorage.getItem(CURRENT_KEY) || 'null');
      return (c && typeof c === 'object') ? c : null;
    }catch(e){ return null; }
  }

  function setCurrent(userObj){
    localStorage.setItem(CURRENT_KEY, JSON.stringify(userObj));
  }

  function bool(v){
    return v === true || v === 1 || v === '1' || v === 'true';
  }

  function normalizeCurrent(c){
    if(!c || typeof c !== 'object') return null;
    const user = (c.user || '').trim();
    const role = (c.role || '').trim();
    if(!user || !role) return null;
    return { user, role };
  }

  function applyPermissions(current){
    const whoPill = document.getElementById('whoPill');
    const buttons = document.querySelectorAll('.nav-btn');

    const cur = normalizeCurrent(current);
    if(!cur){
      whoPill.textContent = 'ç›®å‰ä½¿ç”¨è€…ï¼šâ€”';
      buttons.forEach(b => b.style.display = 'none');
      return;
    }

    whoPill.textContent = `ç›®å‰ä½¿ç”¨è€…ï¼š${cur.user} (${cur.role})`;

    const auth = readAuth();
    const row = auth.find(x => (x.user||'').toLowerCase() === (cur.user||'').toLowerCase());
    const role = (cur.role||'read').toLowerCase();

    buttons.forEach(b => {
      const key = b.dataset.key;
      const adminOnly = b.dataset.adminOnly === '1';

      if(adminOnly){
        b.style.display = (role === 'admin') ? '' : 'none';
        return;
      }

      if(role === 'admin'){
        b.style.display = '';
        return;
      }

      const allowed = row ? bool(row[key]) : false;
      b.style.display = allowed ? '' : 'none';
    });
  }

  const overlay = document.getElementById('overlay');
  const userSel = document.getElementById('userSel');
  const pw      = document.getElementById('pw');
  const hint    = document.getElementById('hint');
  const loginBtn= document.getElementById('loginBtn');
  const closeLoginBtn = document.getElementById('closeLoginBtn');
  const switchBtn = document.getElementById('switchBtn');
  const pwToggle = document.getElementById('pwToggle');

  function escapeHtml(s){
    return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
  }

  function openLogin(){
    const auth = readAuth();
    userSel.innerHTML = auth.map(a => `<option value="${escapeHtml(a.user)}">${escapeHtml(a.user)}</option>`).join('');
    pw.value = '';
    hint.textContent = 'è«‹é¸æ“‡å¸³è™Ÿä¸¦è¼¸å…¥å¯†ç¢¼ã€‚';
    overlay.classList.add('show');
    setTimeout(()=> pw.focus(), 120);
  }

  function closeLogin(){
    overlay.classList.remove('show');
  }

  function doLogin(){
    const auth = readAuth();
    const u = (userSel.value || '').trim();
    const p = (pw.value || '').trim();

    const row = auth.find(a => (a.user||'').toLowerCase() === u.toLowerCase());
    if(!row){
      hint.textContent = 'æ‰¾ä¸åˆ°æ­¤å¸³è™Ÿã€‚';
      return;
    }
    if(String(row.pass||'') !== p){
      hint.textContent = 'å¯†ç¢¼éŒ¯èª¤ã€‚';
      return;
    }

    setCurrent({ user: row.user, role: (row.role||'read') });
    applyPermissions(readCurrent());
    closeLogin();
  }

  pwToggle.addEventListener('click', () => {
    pw.type = (pw.type === 'password') ? 'text' : 'password';
    pwToggle.textContent = (pw.type === 'password') ? 'ğŸ‘' : 'ğŸ™ˆ';
  });

  loginBtn.addEventListener('click', doLogin);
  closeLoginBtn.addEventListener('click', closeLogin);
  switchBtn.addEventListener('click', openLogin);
  pw.addEventListener('keydown', (e) => { if(e.key === 'Enter') doLogin(); });

  ensureButtonMeta();
  seedAuthIfMissing();

  const cur = normalizeCurrent(readCurrent());
  if(cur){
    applyPermissions(cur);
  }else{
    applyPermissions(null);
    openLogin();
  }

  window.addEventListener('storage', (e) => {
    if(e.key === AUTH_KEY || e.key === CURRENT_KEY){
      applyPermissions(readCurrent());
    }
  });
})();
</script>
</body>
</html>
