<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tasun 資料首頁 · 空無明</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 中文網頁字型 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --gold: #f6d37a;
      --gold-soft: rgba(246, 211, 122, 0.75);
      --panel-border: rgba(246, 211, 122, 0.35);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: "Noto Serif TC","標楷體","Microsoft JhengHei",serif;
      background: #050302;
      color: var(--gold);
      overflow-x: hidden;
    }

    body.locked {
      overflow: hidden;
    }

    /* ==========================
       登入遮罩與登入框
       ========================== */
    .login-overlay {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 50% 18%, rgba(255, 228, 170, 0.35), rgba(0, 0, 0, 0.98));
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .login-box {
      width: min(380px, 90vw);
      padding: 2.4rem 2.6rem 2.2rem;
      border-radius: 18px;
      background:
        radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.28), rgba(0, 0, 0, 0.94));
      border: 1px solid var(--panel-border);
      box-shadow:
        0 0 24px rgba(0, 0, 0, 0.9),
        0 0 32px rgba(246, 211, 122, 0.25);
      color: var(--gold-soft);
    }

    .login-title {
      text-align: center;
      font-size: 1.4rem;
      letter-spacing: 0.2em;
      text-indent: 0.2em;
      margin-bottom: 1.6rem;
      text-shadow:
        0 0 8px rgba(246, 211, 122, 0.8),
        0 0 18px rgba(246, 211, 122, 0.5);
    }

    .login-field {
      margin-bottom: 1rem;
    }

    .login-field label {
      display: block;
      font-size: 0.85rem;
      letter-spacing: 0.18em;
      text-indent: 0.18em;
      margin-bottom: 0.3rem;
      color: var(--gold-soft);
    }

    .login-field input {
      width: 100%;
      padding: 0.55rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.5);
      background: rgba(0, 0, 0, 0.8);
      color: var(--gold);
      outline: none;
    }

    .login-field input:focus {
      border-color: rgba(255, 238, 190, 0.9);
      box-shadow: 0 0 12px rgba(246, 211, 122, 0.7);
    }

    .login-error {
      min-height: 1.1rem;
      margin-bottom: 0.4rem;
      font-size: 0.8rem;
      color: #ffb3b3;
      text-align: center;
    }

    .login-actions {
      margin-top: 0.8rem;
      display: flex;
      justify-content: center;
    }

    .btn-login {
      padding: 0.55rem 2.8rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.9);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.36), rgba(0, 0, 0, 0.98));
      color: var(--gold);
      font-size: 0.95rem;
      letter-spacing: 0.22em;
      text-indent: 0.22em;
      cursor: pointer;
      box-shadow:
        0 10px 18px rgba(0, 0, 0, 0.95),
        0 0 18px rgba(246, 211, 122, 0.5);
      transition:
        transform 0.15s ease-out,
        box-shadow 0.2s ease-out,
        background 0.2s ease-out,
        border-color 0.2s ease-out;
    }

    .btn-login:hover {
      transform: translateY(-1px);
      box-shadow:
        0 12px 22px rgba(0, 0, 0, 0.98),
        0 0 22px rgba(246, 211, 122, 0.8);
      border-color: #fff4cf;
      background: radial-gradient(circle at 0% 0%, rgba(255, 244, 208, 0.45), rgba(0, 0, 0, 0.97));
    }

    /* ==========================
       主視覺：蓮花＋禪學文字
       ========================== */
    .hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      color: var(--gold);
    }

    /* ★ 新版背景：蓮花立於水中＋佛光普照 ★ */
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        /* 上方佛光：從上往下灑的金色光 */
        radial-gradient(
          circle at 50% 16%,
          rgba(255, 237, 180, 0.75) 0,
          rgba(255, 237, 180, 0.32) 18%,
          rgba(255, 237, 180, 0.06) 40%,
          rgba(255, 237, 180, 0.0) 60%
        ),

        /* 蓮花周圍金光圈，讓蓮花更立體 */
        radial-gradient(
          ellipse at 50% 72%,
          rgba(255, 210, 140, 0.55) 0,
          rgba(255, 210, 140, 0.28) 20%,
          rgba(255, 210, 140, 0.05) 48%,
          rgba(255, 210, 140, 0.0) 70%
        ),

        /* 水面反光：蓮花下方一道亮線 */
        radial-gradient(
          ellipse at 50% 79%,
          rgba(255, 255, 255, 0.28) 0,
          rgba(255, 255, 255, 0.15) 7%,
          rgba(255, 255, 255, 0.0) 26%
        ),

        /* 底部略亮的水面，避免畫面過暗 */
        linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0.0) 40%,
          rgba(255, 240, 200, 0.10) 65%,
          rgba(0, 0, 0, 0.65) 100%
        ),

        /* 蓮花原始圖片：稍往下、放大一些 */
        url("首頁圖片.png") center 72% / auto 86% no-repeat;
      z-index: -2;
    }

    /* 暗罩：四周加深，中間保留光感與蓮花 */
    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(
          circle at 50% 72%,
          rgba(0, 0, 0, 0.0) 0,
          rgba(0, 0, 0, 0.40) 68%,
          rgba(0, 0, 0, 0.65) 100%
        ),
        linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0.92) 0%,
          rgba(0, 0, 0, 0.70) 24%,
          rgba(0, 0, 0, 0.55) 48%,
          rgba(0, 0, 0, 0.70) 100%
        );
      z-index: -1;
    }

    .hero-inner {
      position: relative;
      width: min(1600px, 100vw);
      height: min(900px, 100vh);
      padding: clamp(1.2rem, 2vw, 1.8rem);
    }

    /* ==========================
       頂端使用者顯示列
       ========================== */
    .user-bar {
      position: absolute;
      top: 0.8rem;
      left: 0.8rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      z-index: 10;
    }

    .user-pill {
      padding: 0.4rem 1.6rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.7);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.25), rgba(0, 0, 0, 0.92));
      font-size: 0.95rem;
      letter-spacing: 0.18em;
      text-indent: 0.18em;
      box-shadow:
        0 4px 10px rgba(0, 0, 0, 0.9),
        0 0 14px rgba(246, 211, 122, 0.35);
    }

    .btn-switch {
      padding: 0.35rem 1.4rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.85);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.4), rgba(0, 0, 0, 0.96));
      color: var(--gold);
      font-size: 0.9rem;
      letter-spacing: 0.16em;
      text-indent: 0.16em;
      cursor: pointer;
      box-shadow:
        0 6px 12px rgba(0,0,0,0.95),
        0 0 16px rgba(246, 211, 122, 0.5);
      transition:
        transform 0.15s ease-out,
        box-shadow 0.2s ease-out,
        background 0.2s ease-out;
    }

    .btn-switch:hover {
      transform: translateY(-1px);
      background: radial-gradient(circle at 0% 0%, rgba(255, 244, 208, 0.45), rgba(0, 0, 0, 0.97));
      box-shadow:
        0 9px 16px rgba(0, 0, 0, 0.97),
        0 0 22px rgba(246, 211, 122, 0.8);
    }

    /* ==========================
       上方 Tasun 標題（獨立於背景之上）
       ========================== */
    .site-title-wrapper {
      position: absolute;
      top: 8%;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      letter-spacing: 0.38em;
      text-indent: 0.38em;
    }

    .site-title {
      font-size: clamp(3.0rem, 4.2vw, 3.8rem);
      text-shadow:
        0 0 18px rgba(246, 211, 122, 0.9),
        0 0 36px rgba(246, 211, 122, 0.7),
        0 0 58px rgba(246, 211, 122, 0.45);
    }

    /* ==========================
       共用發光文字：空無明 + 左右直排 + 下方橫排
       ========================== */
    .hero-text {
      position: absolute;
      color: var(--gold);
      text-shadow:
        0 0 10px rgba(246, 211, 122, 0.9),
        0 0 24px rgba(246, 211, 122, 0.7),
        0 0 40px rgba(246, 211, 122, 0.45);
      white-space: nowrap;
      z-index: 0;
    }

    /* 中央：空 無 明（圍繞蓮花） */
    .hero-title {
      top: 37%;
      left: 50%;
      transform: translateX(-50%);
      font-size: clamp(2.3rem, 3.2vw, 2.8rem);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2.2em;
    }

    /* 左右直排文字：靠近蓮花兩側 */
    .hero-left,
    .hero-right {
      top: 63%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: clamp(1.7rem, 2.4vw, 2.1rem);
    }

    .hero-left  { left: 28%; }
    .hero-right { right: 28%; }

    .hero-left span,
    .hero-right span {
      line-height: 1.3;
      letter-spacing: 0.12em;
    }

    .char-space {
      margin-top: 0.8em;
      margin-bottom: 0.3em;
    }

    /* 下方橫排：空 無 明 靜（圍繞蓮花下緣） */
    .hero-bottom {
      bottom: 11%;
      left: 50%;
      transform: translateX(-50%);
      font-size: clamp(1.6rem, 2.2vw, 2rem);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.9em;
    }

    .hero-bottom span {
      letter-spacing: 0.16em;
    }

    /* ==========================
       浮動按鈕（左右三顆）
       ========================== */
    .nav-btn {
      position: absolute;
      padding: 1.05rem 2.9rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.9);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.34), rgba(0,0,0,0.9));
      color: var(--gold);
      font-size: 1.18rem;
      letter-spacing: 0.24em;
      text-indent: 0.24em;
      text-decoration: none;
      white-space: nowrap;
      cursor: pointer;
      box-shadow:
        0 12px 24px rgba(0,0,0,0.95),
        0 0 22px rgba(246, 211, 122, 0.45);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      transition:
        transform 0.2s ease-out,
        box-shadow 0.2s ease-out,
        border-color 0.2s ease-out,
        background 0.25s ease-out,
        opacity 0.2s ease-out;
      z-index: 1;
    }

    .nav-btn span { position: relative; z-index: 1; }

    .nav-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 15% 0%, rgba(255,255,255,0.45), transparent 55%);
      opacity: 0;
      transition: opacity 0.25s ease-out;
      z-index: 0;
    }

    .nav-btn:hover {
      transform: translateY(-3px);
      box-shadow:
        0 16px 30px rgba(0,0,0,0.95),
        0 0 28px rgba(246, 211, 122, 0.75);
      border-color: rgba(255, 235, 180, 0.98);
      background: radial-gradient(circle at 0% 0%, rgba(255, 240, 200, 0.38), rgba(0,0,0,0.92));
    }

    .nav-btn:hover::before { opacity: 1; }

    .nav-btn:active {
      transform: translateY(-1px);
      box-shadow:
        0 9px 18px rgba(0,0,0,0.9),
        0 0 20px rgba(246, 211, 122, 0.7);
    }

    /* 左側三顆 */
    .nav-left.top {
      left: 7%;
      top: 30%;
    }
    .nav-left.middle {
      left: 9%;
      top: 50%;
    }
    .nav-left.bottom {
      left: 9%;
      top: 70%;
    }

    /* 右側三顆 */
    .nav-right.top {
      right: 7%;
      top: 30%;
    }
    .nav-right.middle {
      right: 9%;
      top: 50%;
    }
    .nav-right.bottom {
      right: 9%;
      top: 70%;
    }

    /* 手機版簡單縮排 */
    @media (max-width: 900px) {
      .hero-inner {
        width: 100vw;
        height: 100vh;
      }

      .site-title-wrapper {
        top: 7%;
      }

      .hero-title {
        top: 34%;
        font-size: 2.0rem;
      }

      .hero-left { left: 18%; font-size: 1.5rem; }
      .hero-right { right: 18%; font-size: 1.5rem; }

      .hero-bottom {
        bottom: 8%;
        font-size: 1.5rem;
      }

      .nav-btn {
        font-size: 1.0rem;
        padding: 0.8rem 2.2rem;
        letter-spacing: 0.2em;
      }

      .nav-left.top    { left: 4%; top: 30%; }
      .nav-left.middle { left: 6%; top: 50%; }
      .nav-left.bottom { left: 6%; top: 70%; }

      .nav-right.top    { right: 4%; top: 30%; }
      .nav-right.middle { right: 6%; top: 50%; }
      .nav-right.bottom { right: 6%; top: 70%; }
    }
  </style>
</head>
<body class="locked">
  <!-- 登入遮罩 -->
  <div class="login-overlay" id="loginOverlay">
    <div class="login-box">
      <div class="login-title">Tasun 資料 · 登入</div>
      <form id="loginForm">
        <div class="login-field">
          <label for="username">使用者名稱</label>
          <input id="username" name="username" autocomplete="username" />
        </div>
        <div class="login-field">
          <label for="password">密碼</label>
          <input id="password" name="password" type="password" autocomplete="current-password" />
        </div>
        <div class="login-error" id="loginError"></div>
        <div class="login-actions">
          <button type="submit" class="btn-login">登入</button>
        </div>
      </form>
    </div>
  </div>

  <main class="hero">
    <div class="hero-inner">

      <!-- 使用者資訊列 -->
      <div class="user-bar">
        <div class="user-pill" id="userInfo">目前使用者：未登入</div>
        <button class="btn-switch" id="btnSwitchUser">切換帳號</button>
      </div>

      <!-- 上方 Tasun 標題 -->
      <div class="site-title-wrapper">
        <div class="site-title">Tasun 資料</div>
      </div>

      <!-- 中央主題：空 無 明 -->
      <div class="hero-text hero-title">
        <span>空</span>
        <span>無</span>
        <span>明</span>
      </div>

      <!-- 左：空 / 靈 /（空一行）/ 無 / 我 -->
      <div class="hero-text hero-left">
        <span>空</span>
        <span>靈</span>
        <span class="char-space"></span>
        <span>無</span>
        <span>我</span>
      </div>

      <!-- 右：清 / 明 /（空一行）/ 寧 / 靜 -->
      <div class="hero-text hero-right">
        <span>清</span>
        <span>明</span>
        <span class="char-space"></span>
        <span>寧</span>
        <span>靜</span>
      </div>

      <!-- 下：空 無 明 靜 -->
      <div class="hero-text hero-bottom">
        <span>空</span>
        <span>無</span>
        <span>明</span>
        <span>靜</span>
      </div>

      <!-- 左側按鈕 -->
      <a class="nav-btn nav-left top"
         href="臻鼎管理表.html"
         data-roles="admin,write,read">
        <span>臻鼎時代大廈管理表</span>
      </a>

      <a class="nav-btn nav-left middle"
         href="甄鼎quality.html"
         data-roles="admin,write,read">
        <span>缺失 / 品質</span>
      </a>

      <a class="nav-btn nav-left bottom"
         href="https://www.dropbox.com/"
         target="_blank" rel="noopener noreferrer"
         data-roles="admin,write,read">
        <span>雲端檔案</span>
      </a>

      <!-- 右側按鈕 -->
      <a class="nav-btn nav-right top"
         href="#"
         data-roles="admin,write">
        <span>材料管控表</span>
      </a>

      <a class="nav-btn nav-right middle"
         href="#"
         data-roles="admin,write,read">
        <span>資料庫</span>
      </a>

      <a class="nav-btn nav-right bottom"
         href="權限表.html"
         data-roles="admin">
        <span>系統 / 權限</span>
      </a>

    </div>
  </main>

  <script>
    // 簡易權限表（可對應你 Excel 權限表）
    const USERS = [
      { username: "alex",  password: "Tasun08040224",  role: "admin" },
      { username: "tasun", password: "tasun08040224", role: "write" },
      { username: "wu",    password: "123456",        role: "read"  }
    ];

    const loginOverlay = document.getElementById("loginOverlay");
    const loginForm    = document.getElementById("loginForm");
    const loginError   = document.getElementById("loginError");
    const userInfo     = document.getElementById("userInfo");
    const btnSwitch    = document.getElementById("btnSwitchUser");

    function findUser(name) {
      return USERS.find(u => u.username === name.trim());
    }

    function applyUser(user) {
      document.body.classList.remove("locked");
      loginOverlay.style.display = "none";

      userInfo.textContent = `目前使用者：${user.username} (${user.role})`;
      localStorage.setItem("tasunUser", user.username);

      // 依角色顯示按鈕
      document.querySelectorAll(".nav-btn[data-roles]").forEach(btn => {
        const roles = btn.dataset.roles.split(",").map(r => r.trim());
        btn.style.display = roles.includes(user.role) ? "flex" : "none";
      });
    }

    function resetButtonsForLogout() {
      document.querySelectorAll(".nav-btn[data-roles]").forEach(btn => {
        btn.style.display = "none";
      });
    }

    loginForm.addEventListener("submit", function (e) {
      e.preventDefault();

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      const user = findUser(username);

      if (!user || user.password !== password) {
        loginError.textContent = "帳號或密碼錯誤，請再試一次。";
        return;
      }

      loginError.textContent = "";
      applyUser(user);
    });

    btnSwitch.addEventListener("click", function () {
      // 切換帳號：顯示登入畫面，清除輸入與錯誤訊息
      document.body.classList.add("locked");
      loginOverlay.style.display = "flex";
      loginError.textContent = "";
      loginForm.reset();
      resetButtonsForLogout();
      userInfo.textContent = "目前使用者：未登入";
    });

    // 預設隱藏所有按鈕，等登入成功再顯示
    resetButtonsForLogout();

    // 若有上次登入紀錄，自動帶入
    (function autoLoginFromStorage() {
      const savedName = localStorage.getItem("tasunUser");
      const user = savedName ? findUser(savedName) : null;
      if (user) {
        applyUser(user);
      } else {
        document.body.classList.add("locked");
      }
    })();
  </script>
</body>
</html>
