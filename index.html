<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tasun è³‡æ–™é¦–é  Â· ç©ºç„¡æ˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ä¸­æ–‡ç¶²é å­—å‹ -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --gold: #f6d37a;
      --gold-soft: rgba(246, 211, 122, 0.75);
      --panel-border: rgba(246, 211, 122, 0.35);

      /* å…©å´è·é›¢è¨­å®šï¼šæŒ‰éˆ•åœ¨å¤–ã€ç¦ªå­—åœ¨å…§ï¼Œä¸­é–“ä¿ç•™ç·©è¡è·é›¢ */
      --side-btn-offset: clamp(5%, 8vw, 10%);    /* æŒ‰éˆ•é›¢å·¦å³é‚Šç•Œ */
      --side-text-offset: clamp(26%, 30vw, 34%); /* ç¦ªå­—é›¢å·¦å³é‚Šç•Œ */

      /* âœ… ç”¨åŒä¸€å€‹è®Šæ•¸çµ±ä¸€æŒ‰éˆ•å¯¬åº¦ï¼Œæ–¹ä¾¿è¨ˆç®—ã€Œä¸­å¤®è“®èŠ±èˆå°ã€å·¦å³å°é½Š */
      --btn-w: clamp(240px, 22vw, 420px);

      /* âœ… ä¸­å¤®èˆå°å·¦å³é‚Šç•Œ = å·¦å³æŒ‰éˆ•æ¬„(èµ·é») + æŒ‰éˆ•å¯¬åº¦ + ä¸€é»ç·©è¡ */
      --stage-gap: clamp(12px, 1.8vw, 26px);
      --stage-inset-x: calc(var(--side-btn-offset) + var(--btn-w) + var(--stage-gap));

      /* âœ… å¤–æ¡†å…§ç¸® */
      --frame-inset: clamp(0.6rem, 1.2vw, 1.2rem);
      --frame-radius: clamp(22px, 2vw, 34px);

      /* âœ… ä¸­å¤®èˆå°ä¸Šç·£é¿é–‹å·¦ä¸Šåˆ—ï¼ˆé¿å…å½¢æˆä¸€æ•´å¡Šåº•è‰²å¸¶ï¼‰ */
      --stage-top: clamp(4.0rem, 7vh, 5.4rem);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      font-family: "Noto Serif TC","æ¨™æ¥·é«”","Microsoft JhengHei",serif;
      background: #050302;
      color: var(--gold);
      overflow-x: hidden;
    }

    body.locked { overflow: hidden; }

    /* ==========================
       ç™»å…¥é®ç½©èˆ‡ç™»å…¥æ¡†
       ========================== */
    .login-overlay {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 50% 18%, rgba(255, 228, 170, 0.35), rgba(0, 0, 0, 0.98));
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .login-box {
      width: min(380px, 90vw);
      padding: 2.4rem 2.6rem 2.2rem;
      border-radius: 18px;
      background:
        radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.28), rgba(0, 0, 0, 0.94));
      border: 1px solid var(--panel-border);
      box-shadow:
        0 0 24px rgba(0, 0, 0, 0.9),
        0 0 32px rgba(246, 211, 122, 0.25);
      color: var(--gold-soft);
    }

    .login-title {
      text-align: center;
      font-size: 1.4rem;
      letter-spacing: 0.2em;
      text-indent: 0.2em;
      margin-bottom: 1.6rem;
      text-shadow:
        0 0 8px rgba(246, 211, 122, 0.8),
        0 0 18px rgba(246, 211, 122, 0.5);
    }

    .login-field { margin-bottom: 1rem; }

    .login-field label {
      display: block;
      font-size: 0.85rem;
      letter-spacing: 0.18em;
      text-indent: 0.18em;
      margin-bottom: 0.3rem;
      color: var(--gold-soft);
    }

    .login-field input,
    .login-field select {
      width: 100%;
      padding: 0.55rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.5);
      background: rgba(0, 0, 0, 0.8);
      color: var(--gold);
      outline: none;
    }

    .login-field select { appearance: none; }

    .login-field input:focus,
    .login-field select:focus {
      border-color: rgba(255, 238, 190, 0.9);
      box-shadow: 0 0 12px rgba(246, 211, 122, 0.7);
    }

    .login-pwd-wrapper {
      display: flex;
      align-items: center;
      gap: 0.45rem;
    }

    .login-pwd-input { flex: 1 1 auto; }

    .btn-eye-login {
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.8);
      background: rgba(0, 0, 0, 0.85);
      color: var(--gold);
      font-size: 0.8rem;
      cursor: pointer;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    }

    .btn-eye-login:hover { background: rgba(246, 211, 122, 0.2); }

    .login-error {
      min-height: 1.1rem;
      margin-bottom: 0.4rem;
      font-size: 0.8rem;
      color: #ffb3b3;
      text-align: center;
    }

    .login-actions {
      margin-top: 0.8rem;
      display: flex;
      justify-content: center;
    }

    .btn-login {
      padding: 0.55rem 2.8rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.9);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.36), rgba(0, 0, 0, 0.98));
      color: var(--gold);
      font-size: 0.95rem;
      letter-spacing: 0.22em;
      text-indent: 0.22em;
      cursor: pointer;
      box-shadow:
        0 10px 18px rgba(0, 0, 0, 0.95),
        0 0 18px rgba(246, 211, 122, 0.5);
      transition:
        transform 0.15s ease-out,
        box-shadow 0.2s ease-out,
        background 0.2s ease-out,
        border-color 0.2s ease-out;
    }

    .btn-login:hover {
      transform: translateY(-1px);
      box-shadow:
        0 12px 22px rgba(0, 0, 0, 0.98),
        0 0 22px rgba(246, 211, 122, 0.8);
      border-color: #fff4cf;
      background: radial-gradient(circle at 0% 0%, rgba(255, 244, 208, 0.45), rgba(0, 0, 0, 0.97));
    }

    /* ==========================
       ä¸»è¦–è¦ºï¼šèƒŒæ™¯å…‰å ´
       ========================== */
    .hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      color: var(--gold);
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 50% 12%,
          rgba(255, 237, 180, 0.92) 0,
          rgba(255, 237, 180, 0.42) 18%,
          rgba(255, 237, 180, 0.10) 40%,
          rgba(255, 237, 180, 0.00) 60%),
        radial-gradient(ellipse at 50% 76%,
          rgba(255, 250, 240, 0.22) 0,
          rgba(255, 250, 240, 0.10) 28%,
          rgba(255, 250, 240, 0.00) 62%),
        radial-gradient(ellipse at 50% 86%,
          rgba(255, 220, 170, 0.28) 0,
          rgba(255, 220, 170, 0.10) 26%,
          rgba(255, 220, 170, 0.00) 60%),
        linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0.84) 0%,
          rgba(0, 0, 0, 0.58) 30%,
          rgba(0, 0, 0, 0.42) 56%,
          rgba(0, 0, 0, 0.55) 100%);
      z-index: -6;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 50% 44%,
          rgba(246, 211, 122, 0.12) 0,
          rgba(246, 211, 122, 0.06) 26%,
          rgba(0,0,0,0.00) 52%),
        radial-gradient(circle at 34% 60%,
          rgba(246, 211, 122, 0.10) 0,
          rgba(0,0,0,0.00) 50%),
        radial-gradient(circle at 66% 60%,
          rgba(246, 211, 122, 0.10) 0,
          rgba(0,0,0,0.00) 50%),
        radial-gradient(circle at 50% 60%,
          rgba(0,0,0,0.00) 0,
          rgba(0,0,0,0.22) 52%,
          rgba(0,0,0,0.58) 100%);
      z-index: -5;
      pointer-events: none;
    }

    .hero-inner {
      position: relative;
      width: 100%;
      max-width: 1400px;
      height: 100vh;
      margin: 0 auto;
      padding: clamp(1.2rem, 2vw, 1.8rem);
      isolation: isolate;
    }

    /* å¤–åœç»ç’ƒæ¡† */
    .hero-inner::after {
      content: "";
      position: absolute;
      inset: var(--frame-inset);
      border-radius: var(--frame-radius);
      background:
        radial-gradient(circle at 50% 18%, rgba(255, 244, 210, 0.06), rgba(255, 244, 210, 0.00) 58%),
        radial-gradient(ellipse at 50% 82%, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.00) 62%),
        linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.015));
      border: 1px solid rgba(246, 211, 122, 0.22);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.06),
        0 0 28px rgba(0,0,0,0.55),
        0 0 26px rgba(246, 211, 122, 0.10);
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      z-index: -4;
      pointer-events: none;
    }

    /* âœ… é‡è¦ï¼šå®Œå…¨åœç”¨åŸæœ¬æœƒä½”æ“šä¸€å¤§ç‰‡å€åŸŸçš„è“®èŠ± pseudo-elementï¼ˆé¿å…ä»»ä½•çŸ©å½¢æ„Ÿï¼‰ */
    .hero-inner::before { content: none; }

    /* âœ… ä¸­å¤®ç…™éœ§/å…‰æšˆï¼ˆé€æ˜æµ®åœ¨èƒŒæ™¯ä¸Šï¼Œä¸å½¢æˆçŸ©å½¢ï¼‰ */
    .lotus-stage{
      position: absolute;
      top: var(--stage-top);
      bottom: var(--frame-inset);
      left: var(--stage-inset-x);
      right: var(--stage-inset-x);
      border-radius: calc(var(--frame-radius) - 6px);
      background: none;
      border: none;
      box-shadow: none;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      z-index: -3;
      pointer-events: none;
    }

    .lotus-stage::before{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: inherit;
      background:
        radial-gradient(ellipse at 50% 55%,
          rgba(246, 211, 122, 0.10) 0%,
          rgba(246, 211, 122, 0.05) 28%,
          rgba(0,0,0,0.00) 68%),
        radial-gradient(ellipse at 50% 42%,
          rgba(255,255,255,0.14) 0%,
          rgba(255,255,255,0.06) 26%,
          rgba(255,255,255,0.00) 62%),
        radial-gradient(ellipse at 42% 46%,
          rgba(255,255,255,0.10) 0%,
          rgba(255,255,255,0.00) 58%),
        radial-gradient(ellipse at 60% 48%,
          rgba(255,255,255,0.09) 0%,
          rgba(255,255,255,0.00) 60%),
        radial-gradient(ellipse at 50% 60%,
          rgba(0,0,0,0.00) 0%,
          rgba(0,0,0,0.06) 55%,
          rgba(0,0,0,0.00) 100%);
      filter: blur(10px);
      opacity: 0.78;

      -webkit-mask-image: radial-gradient(ellipse at 50% 50%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 56%,
        rgba(0,0,0,0.0) 100%);
      mask-image: radial-gradient(ellipse at 50% 50%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 56%,
        rgba(0,0,0,0.0) 100%);

      pointer-events: none;
    }

    .lotus-stage::after{
      content:"";
      position:absolute;
      left: 12%;
      right: 12%;
      bottom: 10%;
      height: 22%;
      border-radius: 999px;
      background:
        radial-gradient(ellipse at 50% 35%,
          rgba(255,255,255,0.12),
          rgba(255,255,255,0.00) 70%),
        radial-gradient(ellipse at 50% 70%,
          rgba(246,211,122,0.12),
          rgba(246,211,122,0.00) 78%);
      filter: blur(12px);
      opacity: 0.55;

      -webkit-mask-image: radial-gradient(ellipse at 50% 50%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 58%,
        rgba(0,0,0,0.0) 100%);
      mask-image: radial-gradient(ellipse at 50% 50%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 58%,
        rgba(0,0,0,0.0) 100%);

      pointer-events: none;
    }

    /* âœ… è“®èŠ±æœ¬é«”ï¼šç›´æ¥æµ®åœ¨èƒŒæ™¯ä¸Šï¼ˆç”¨é®ç½©è£åˆ‡æ‰ä½ åœ–ç‰‡è£¡çš„çŸ©å½¢åº•åœ–/æ–‡å­—å€ï¼‰ */
    .lotus-sprite{
      position: absolute;
      left: 50%;
      top: 63%;
      transform: translate(-50%, -50%);
      width: min(560px, 52vw);
      height: min(380px, 34vw);

      /* æ”¾å¤§ä¸¦å¾€ä¸‹å°æº–ï¼Œè®“è£åˆ‡å€åªå–åˆ°è“®èŠ±ï¼ˆé¿é–‹ä¸Šæ–¹ã€Œç„¡ã€èˆ‡åº•éƒ¨å­—ï¼‰ */
      background: url("é¦–é åœ–ç‰‡.png") center 82% / auto 240% no-repeat;

      opacity: 0.98;
      filter:
        saturate(0.88)
        contrast(1.05)
        brightness(1.06)
        drop-shadow(0 22px 34px rgba(0,0,0,0.55));

      /* åªé¡¯ç¤ºè“®èŠ±å€åŸŸï¼šå®Œå…¨å»æ‰çŸ©å½¢åº•åœ–/è‰²å¡Šçš„é—œéµ */
      -webkit-mask-image: radial-gradient(ellipse at 50% 62%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 42%,
        rgba(0,0,0,0.0) 78%);
      mask-image: radial-gradient(ellipse at 50% 62%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 42%,
        rgba(0,0,0,0.0) 78%);

      z-index: -2;
      pointer-events: none;
    }

    /* ä½¿ç”¨è€…é¡¯ç¤ºåˆ—ï¼ˆå·²ä¾ä½ å‰ç‰ˆç¸®å°ã€ä¸é¡¯çœ¼ï¼‰ */
    .user-bar {
      position: fixed;
      top: 0.8rem;
      left: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      z-index: 10;
    }

    .user-pill {
      padding: 0.30rem 1.05rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.55);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.18), rgba(0, 0, 0, 0.88));
      font-size: 0.82rem;
      letter-spacing: 0.10em;
      text-indent: 0.10em;
      opacity: 0.88;
      box-shadow:
        0 3px 8px rgba(0, 0, 0, 0.75),
        0 0 10px rgba(246, 211, 122, 0.18);
    }

    .btn-switch {
      padding: 0.26rem 1.00rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.62);
      background: radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.22), rgba(0, 0, 0, 0.92));
      color: var(--gold);
      font-size: 0.80rem;
      letter-spacing: 0.10em;
      text-indent: 0.10em;
      cursor: pointer;
      opacity: 0.86;
      box-shadow:
        0 4px 9px rgba(0,0,0,0.82),
        0 0 10px rgba(246, 211, 122, 0.20);
      transition:
        transform 0.15s ease-out,
        box-shadow 0.2s ease-out,
        background 0.2s ease-out,
        opacity 0.2s ease-out;
    }

    .btn-switch:hover {
      transform: translateY(-1px);
      opacity: 0.96;
      background: radial-gradient(circle at 0% 0%, rgba(255, 244, 208, 0.30), rgba(0, 0, 0, 0.93));
      box-shadow:
        0 7px 14px rgba(0, 0, 0, 0.90),
        0 0 14px rgba(246, 211, 122, 0.30);
    }

    /* ä¸Šæ–¹ Tasun æ¨™é¡Œ */
    .site-title-wrapper {
      position: absolute;
      top: 9%;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      letter-spacing: 0.38em;
      text-indent: 0.38em;
    }

    .site-title {
      font-size: clamp(3.0rem, 4.2vw, 3.8rem);
      font-weight: 700;
      -webkit-text-stroke: 0.7px rgba(255, 244, 208, 0.40);
      text-shadow:
        0 1px 0 rgba(0,0,0,0.65),
        0 2px 0 rgba(0,0,0,0.55),
        0 10px 22px rgba(0,0,0,0.88),
        0 0 18px rgba(246, 211, 122, 0.92),
        0 0 36px rgba(246, 211, 122, 0.72),
        0 0 58px rgba(246, 211, 122, 0.46);
      filter: drop-shadow(0 10px 18px rgba(0,0,0,0.85));
    }

    /* ç™¼å…‰æ–‡å­—ç¾¤ */
    .hero-text {
      position: absolute;
      color: var(--gold);
      text-shadow:
        0 0 10px rgba(246, 211, 122, 0.9),
        0 0 24px rgba(246, 211, 122, 0.7),
        0 0 40px rgba(246, 211, 122, 0.45);
      white-space: nowrap;
      z-index: 0;
    }

    /* âœ… ä¿®æ­£ï¼šç©ºç„¡æ˜ç§»åˆ°è“®èŠ±ä¸Š */
    .hero-title {
      top: 52%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(2.3rem, 3.2vw, 2.8rem);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2.2em;
      z-index: 2;
      pointer-events: none;
    }

    .hero-left,
    .hero-right {
      top: 63%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: clamp(1.7rem, 2.4vw, 2.1rem);
    }

    .hero-left  { left:  var(--side-text-offset); }
    .hero-right { right: var(--side-text-offset); }

    .hero-left span,
    .hero-right span {
      line-height: 1.3;
      letter-spacing: 0.12em;
    }

    .char-space {
      margin-top: 0.8em;
      margin-bottom: 0.3em;
    }

    .hero-bottom {
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      font-size: clamp(1.6rem, 2.2vw, 2rem);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.9em;
    }

    .hero-bottom span { letter-spacing: 0.16em; }

    /* ========== æŒ‰éˆ•å€åŸŸ ========== */
    .nav-area {
      position: absolute;
      inset: 0;
    }

    .nav-btn {
      position: absolute;

      width: var(--btn-w);
      height: clamp(78px, 9.5vh, 112px);

      border-radius: 999px;
      border: 1px solid rgba(246, 211, 122, 0.92);

      background:
        linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.04)),
        radial-gradient(circle at 0% 0%, rgba(246, 211, 122, 0.28), rgba(0,0,0,0.82));

      color: var(--gold);
      text-decoration: none;
      cursor: pointer;

      box-shadow:
        0 14px 26px rgba(0,0,0,0.95),
        0 0 26px rgba(246, 211, 122, 0.40);

      display: flex;
      align-items: center;
      justify-content: center;

      padding: 0 clamp(1.6rem, 2.6vw, 3.0rem);

      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);

      transition:
        transform 0.2s ease-out,
        box-shadow 0.2s ease-out,
        border-color 0.2s ease-out,
        background 0.25s ease-out,
        opacity 0.2s ease-out;
      z-index: 1;
    }

    .nav-btn span{
      position: relative;
      z-index: 1;

      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;
      overflow: hidden;

      text-align: center;
      line-height: 1.22;

      font-size: clamp(1.02rem, 1.15vw, 1.22rem);
      letter-spacing: clamp(0.10em, 0.20vw, 0.18em);
      text-indent: 0.12em;
      word-break: keep-all;
    }

    .nav-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 15% 0%, rgba(255,255,255,0.50), transparent 55%);
      opacity: 0;
      transition: opacity 0.25s ease-out;
      z-index: 0;
    }

    .nav-btn:hover {
      transform: translateY(-3px);
      box-shadow:
        0 18px 34px rgba(0,0,0,0.95),
        0 0 34px rgba(246, 211, 122, 0.75);
      border-color: rgba(255, 235, 180, 0.98);
      background:
        linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06)),
        radial-gradient(circle at 0% 0%, rgba(255, 240, 200, 0.32), rgba(0,0,0,0.86));
    }

    .nav-btn:hover::before { opacity: 1; }

    .nav-btn:active {
      transform: translateY(-1px);
      box-shadow:
        0 10px 20px rgba(0,0,0,0.9),
        0 0 22px rgba(246, 211, 122, 0.7);
    }

    .nav-left.top,
    .nav-left.middle,
    .nav-left.bottom { left: var(--side-btn-offset); }

    .nav-right.top,
    .nav-right.middle,
    .nav-right.bottom { right: var(--side-btn-offset); }

    .nav-left.top    { top: 30%; }
    .nav-left.middle { top: 50%; }
    .nav-left.bottom { top: 70%; }

    .nav-right.top    { top: 30%; }
    .nav-right.middle { top: 50%; }
    .nav-right.bottom { top: 70%; }

    #systemBtn.nav-right.bottom { top: auto; }

    /* ==========================
       æ‰‹æ©Ÿç‰ˆï¼ˆæŒ‰éˆ•è‡ªå‹•æ’ç‰ˆï¼‰
       ========================== */
    @media (max-width: 900px) {
      :root{
        --stage-top: clamp(4.6rem, 12vh, 6.4rem);
      }

      .hero-inner {
        width: 100vw;
        height: auto;
        min-height: 100vh;
        max-width: none;
        padding: 1.2rem 0.75rem 2.2rem;
      }

      .site-title-wrapper { top: 7%; }

      /* âœ… ä¿®æ­£ï¼šæ‰‹æ©Ÿä¹Ÿè®“ç©ºç„¡æ˜åœ¨è“®èŠ±ä¸Š */
      .hero-title{
        top: 46%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2.0rem;
        z-index: 2;
        pointer-events: none;
      }

      .hero-left { left: 24%; font-size: 1.5rem; }
      .hero-right { right: 24%; font-size: 1.5rem; }

      .hero-bottom { bottom: 8%; font-size: 1.5rem; }

      .lotus-stage{
        left: clamp(0.8rem, 3vw, 1.1rem);
        right: clamp(0.8rem, 3vw, 1.1rem);
      }

      /* æ‰‹æ©Ÿï¼šè“®èŠ±æœ¬é«”æ›´å¤§ä¸€é» */
      .lotus-sprite{
        width: min(520px, 86vw);
        height: min(360px, 58vw);
        top: 62%;
        background-position: center 84%;
        background-size: auto 260%;
      }

      .nav-area {
        position: static;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.9rem;
        width: 100%;
        max-width: 100%;
        margin: min(56vh, 430px) auto 0.8rem;
        padding: 0 0.6rem 0;
      }

      .nav-btn {
        position: relative;
        flex: 0 1 calc(50% - 0.9rem);
        max-width: 360px;

        width: auto;
        height: 78px;

        font-size: 1rem;
        padding: 0 1.2rem;
      }

      #systemBtn {
        position: relative;
        right: auto;
        bottom: auto;
        top: auto;
        left: auto;
      }
    }

    /* æ¡Œæ©Ÿç‰ˆï¼šé™åˆ¶æŒ‰éˆ•æœ€å¤§å¯¬åº¦ï¼Œé¿å…è¶…éç¦ªå­—å€ */
    @media (min-width: 901px) {
      .nav-btn {
        max-width: calc(var(--side-text-offset) - var(--side-btn-offset) - 3vw);
      }
    }
  </style>
</head>

<body class="locked">
  <!-- ç™»å…¥é®ç½© -->
  <div class="login-overlay" id="loginOverlay">
    <div class="login-box">
      <div class="login-title">Tasun è³‡æ–™ Â· ç™»å…¥</div>
      <form id="loginForm">
        <div class="login-field">
          <label for="username">ä½¿ç”¨è€…åç¨±</label>
          <select id="username" name="username" autocomplete="username"></select>
        </div>
        <div class="login-field">
          <label for="password">å¯†ç¢¼</label>
          <div class="login-pwd-wrapper">
            <input id="password" name="password" type="password"
                   autocomplete="current-password" class="login-pwd-input" />
            <button type="button" class="btn-eye-login" id="btnTogglePwd">ğŸ‘</button>
          </div>
        </div>
        <div class="login-error" id="loginError"></div>
        <div class="login-actions">
          <button type="submit" class="btn-login">ç™»å…¥</button>
        </div>
      </form>
    </div>
  </div>

  <main class="hero">
    <div class="hero-inner">

      <!-- ä¸­å¤®ç…™éœ§/å…‰æšˆï¼ˆé€æ˜æµ®åœ¨èƒŒæ™¯ä¸Šï¼‰ -->
      <div class="lotus-stage" aria-hidden="true"></div>

      <!-- âœ… è“®èŠ±æœ¬é«”ï¼ˆå·²è£åˆ‡æ‰çŸ©å½¢åº•åœ–/è‰²å¡Šï¼‰ -->
      <div class="lotus-sprite" aria-hidden="true"></div>

      <!-- ä½¿ç”¨è€…è³‡è¨Šåˆ— -->
      <div class="user-bar">
        <div class="user-pill" id="userInfo">ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥</div>
        <button class="btn-switch" id="btnSwitchUser">åˆ‡æ›å¸³è™Ÿ</button>
      </div>

      <!-- ä¸Šæ–¹ Tasun æ¨™é¡Œ -->
      <div class="site-title-wrapper">
        <div class="site-title">Tasun è³‡æ–™</div>
      </div>

      <!-- ä¸­å¤®ä¸»é¡Œï¼šç©º ç„¡ æ˜ -->
      <div class="hero-text hero-title">
        <span>ç©º</span>
        <span>ç„¡</span>
        <span>æ˜</span>
      </div>

      <!-- å·¦ï¼šç©º / éˆ / ç©º / ç„¡ / æˆ‘ -->
      <div class="hero-text hero-left">
        <span>ç©º</span>
        <span>éˆ</span>
        <span class="char-space"></span>
        <span>ç„¡</span>
        <span>æˆ‘</span>
      </div>

      <!-- å³ï¼šæ¸… / æ˜ / ç©º / å¯§ / éœ -->
      <div class="hero-text hero-right">
        <span>æ¸…</span>
        <span>æ˜</span>
        <span class="char-space"></span>
        <span>å¯§</span>
        <span>éœ</span>
      </div>

      <!-- ä¸‹ï¼šç©º ç„¡ æ˜ éœ -->
      <div class="hero-text hero-bottom">
        <span>ç©º</span>
        <span>ç„¡</span>
        <span>æ˜</span>
        <span>éœ</span>
      </div>

      <!-- ä¸»æŒ‰éˆ•å€ï¼ˆé¡†æ•¸ç”± JS ä¾ localStorage ç”¢ç”Ÿï¼‰ -->
      <div class="nav-area" id="navArea"></div>

      <!-- ç³»çµ± / æ¬Šé™ï¼šå›ºå®š adminï¼Œçœ‹ localStorage CURRENT_KEY.level -->
      <a class="nav-btn nav-right bottom" id="systemBtn" href="æ¬Šé™è¡¨.html">
        <span>ç³»çµ± / æ¬Šé™</span>
      </a>

    </div>
  </main>

  <script>
    // å…±ç”¨ localStorage key
    const AUTH_KEY    = "tasunAuthTable_v1";
    const CURRENT_KEY = "tasunCurrentUser_v1";
    const NAV_KEY     = "tasunNavButtons_v1";

    // é è¨­é¦–é æŒ‰éˆ•ï¼ˆåªæœ‰åœ¨ NAV_KEY é‚„æ²’å»ºç«‹æ™‚ç”¨ä¸€æ¬¡ï¼‰
    const DEFAULT_NAV = [
      { id: "btn1", label: "è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨", href: "è‡»é¼ç®¡ç†è¡¨.html", target: "", roles: ["admin","write","read"] },
      { id: "btn2", label: "ç¼ºå¤± / å“è³ª",       href: "ç”„é¼quality.html", target: "", roles: ["admin","write","read"] },
      { id: "btn3", label: "é›²ç«¯æª”æ¡ˆ",          href: "https://www.dropbox.com/", target: "_blank", roles: ["admin","write","read"] },
      { id: "btn4", label: "å·¥ç¨‹è³‡æ–™åº«",        href: "å·¥ç¨‹è³‡æ–™åº«.html", target: "", roles: ["admin","write"] },
      { id: "btn5", label: "è³‡æ–™åº«",            href: "#", target: "", roles: ["admin","write","read"] }
    ];

    const LEGACY_BUTTON_KEYS = ["btn1", "btn2", "btn3", "btn4", "btn5"];

    const loginOverlay = document.getElementById("loginOverlay");
    const loginForm    = document.getElementById("loginForm");
    const loginError   = document.getElementById("loginError");
    const userInfo     = document.getElementById("userInfo");
    const btnSwitch    = document.getElementById("btnSwitchUser");
    const btnTogglePwd = document.getElementById("btnTogglePwd");
    const navArea      = document.getElementById("navArea");
    const systemBtn    = document.getElementById("systemBtn");

    let NAV_CONFIG = [];
    let AUTH_TABLE = [];
    let mainNavBtns = [];
    let currentVisibleBtns = [];

    function normalizeNavEntry(entry, index) {
      const base = DEFAULT_NAV[index] || {};
      const label = (entry && entry.label ? String(entry.label).trim() : "") || base.label || `æŒ‰éˆ•${index + 1}`;
      const href  = (entry && entry.href  ? String(entry.href).trim()  : "") || base.href  || "#";
      const target= (entry && entry.target? String(entry.target).trim(): "") || base.target|| "";
      const roles = Array.isArray(entry && entry.roles)
        ? entry.roles.slice()
        : (Array.isArray(base.roles) ? base.roles.slice() : ["admin","write","read"]);

      return { id: `btn${index + 1}`, label, href, target, roles };
    }

    function loadNavConfig() {
      const raw = localStorage.getItem(NAV_KEY);
      if (!raw) {
        const defaults = DEFAULT_NAV.slice();
        localStorage.setItem(NAV_KEY, JSON.stringify(defaults));
        return defaults;
      }
      try {
        const arr = JSON.parse(raw);
        if (Array.isArray(arr) && arr.length) {
          return arr.map((item, idx) => normalizeNavEntry(item, idx));
        }
      } catch (e) {}
      const defaults = DEFAULT_NAV.slice();
      localStorage.setItem(NAV_KEY, JSON.stringify(defaults));
      return defaults;
    }

    function makeButtonsAll(count) { return Array(count).fill(true); }

    function makeButtonsOnlyLast(count) {
      const arr = Array(count).fill(false);
      if (count > 0) arr[count - 1] = true;
      return arr;
    }

    function getDefaultAuthTable(btnCount) {
      return [
        { username: "alex",  password: "Tasun08040224", level: "admin", buttons: makeButtonsAll(btnCount) },
        { username: "tasun", password: "tasun08040224", level: "write", buttons: makeButtonsAll(btnCount) },
        { username: "wu",    password: "123456",        level: "read",  buttons: makeButtonsOnlyLast(btnCount) }
      ];
    }

    function normalizeRowFromStorage(row, btnCount) {
      const username = row.username || "";
      const password = row.password || "";
      const level    = row.level || "read";

      let buttons = [];
      if (Array.isArray(row.buttons)) {
        buttons = row.buttons.slice();
      } else {
        const legacy = [];
        LEGACY_BUTTON_KEYS.forEach(k => {
          if (Object.prototype.hasOwnProperty.call(row, k)) legacy.push(!!row[k]);
        });
        buttons = legacy;
      }

      const resultButtons = [];
      for (let i = 0; i < btnCount; i++) resultButtons[i] = !!buttons[i];
      return { username, password, level, buttons: resultButtons };
    }

    function loadAuthTable(btnCount) {
      const raw = localStorage.getItem(AUTH_KEY);
      if (!raw) {
        const defaults = getDefaultAuthTable(btnCount);
        localStorage.setItem(AUTH_KEY, JSON.stringify(defaults));
        return defaults;
      }
      try {
        const arr = JSON.parse(raw);
        if (Array.isArray(arr)) return arr.map(r => normalizeRowFromStorage(r, btnCount));
      } catch (e) {}
      const defaults = getDefaultAuthTable(btnCount);
      localStorage.setItem(AUTH_KEY, JSON.stringify(defaults));
      return defaults;
    }

    function buildMainButtons() {
      NAV_CONFIG = loadNavConfig();
      AUTH_TABLE = loadAuthTable(NAV_CONFIG.length);

      mainNavBtns = [];
      navArea.innerHTML = "";

      NAV_CONFIG.forEach((cfg, index) => {
        const a = document.createElement("a");
        a.className = "nav-btn";
        a.dataset.index = String(index);

        const span = document.createElement("span");
        span.textContent = cfg.label;
        a.appendChild(span);

        a.href = cfg.href || "#";
        if (cfg.target) {
          a.target = cfg.target;
          if (cfg.target === "_blank") a.rel = "noopener noreferrer";
        }

        a.style.display = "none";
        navArea.appendChild(a);
        mainNavBtns.push(a);
      });

      if (systemBtn) systemBtn.style.display = "none";
    }

    function fitBtnText(btn){
      const span = btn && btn.querySelector("span");
      if(!span) return;

      span.style.fontSize = "";
      span.style.letterSpacing = "";
      span.style.textIndent = "";

      const cs = getComputedStyle(span);
      let fs = parseFloat(cs.fontSize) || 16;

      const minPx = 12;
      const maxTry = 14;
      let i = 0;

      while(i < maxTry && fs > minPx && (span.scrollHeight > span.clientHeight + 1 || span.scrollWidth > span.clientWidth + 1)){
        fs -= 1;
        span.style.fontSize = fs + "px";
        i++;
      }

      if(span.scrollHeight > span.clientHeight + 1 && fs <= 13){
        span.style.letterSpacing = "0.10em";
        span.style.textIndent = "0.10em";
      }
    }

    function fitAllVisibleTexts(){
      (currentVisibleBtns || []).forEach(fitBtnText);
      if(systemBtn && systemBtn.style.display !== "none") fitBtnText(systemBtn);
    }

    function layoutMainButtonsResponsive() {
      const width  = window.innerWidth || document.documentElement.clientWidth || 1024;

      if (width <= 900) {
        (currentVisibleBtns || []).forEach(btn => {
          btn.style.top = "";
          btn.style.left = "";
          btn.style.right = "";
        });
        if (systemBtn) {
          systemBtn.style.top = "";
          systemBtn.style.left = "";
          systemBtn.style.right = "";
        }
        requestAnimationFrame(fitAllVisibleTexts);
        return;
      }

      const btns = (currentVisibleBtns || []).slice();
      if (systemBtn && systemBtn.style.display !== "none") btns.push(systemBtn);

      const count = btns.length;
      if (!count) return;

      const rowCount = Math.ceil(count / 2);

      const topStart = 26;
      const topEnd   = 74;
      const step = rowCount > 1 ? (topEnd - topStart) / (rowCount - 1) : 0;

      btns.forEach((btn, index) => {
        const row = Math.floor(index / 2);
        const col = index % 2;
        const top = topStart + step * row;

        btn.style.top = top + "%";
        btn.style.left = "";
        btn.style.right = "";

        if (col === 0) btn.style.left = "var(--side-btn-offset)";
        else btn.style.right = "var(--side-btn-offset)";
      });

      requestAnimationFrame(fitAllVisibleTexts);
    }

    window.addEventListener("resize", () => layoutMainButtonsResponsive());

    function isRoleAllowedForIndex(index, level) {
      const cfg = NAV_CONFIG[index];
      if (!cfg || !Array.isArray(cfg.roles)) return true;
      return cfg.roles.includes(level);
    }

    function applyUser(user) {
      document.body.classList.remove("locked");
      loginOverlay.style.display = "none";

      localStorage.setItem(CURRENT_KEY, JSON.stringify({ username: user.username, level: user.level }));
      userInfo.textContent = `ç›®å‰ä½¿ç”¨è€…ï¼š${user.username} (${user.level})`;

      const visibleMain = [];

      mainNavBtns.forEach((btn, index) => {
        const allowedByRole = isRoleAllowedForIndex(index, user.level);
        const btnFlags = Array.isArray(user.buttons) ? user.buttons : [];
        const allowedByAuth = index < btnFlags.length ? !!btnFlags[index] : true;

        if (allowedByRole && allowedByAuth) {
          btn.style.display = "flex";
          visibleMain.push(btn);
        } else {
          btn.style.display = "none";
        }
      });

      currentVisibleBtns = visibleMain;

      if (systemBtn) {
        systemBtn.style.display = (user.level === "admin") ? "flex" : "none";
      }

      layoutMainButtonsResponsive();
    }

    function resetButtonsForLogout() {
      currentVisibleBtns = [];
      mainNavBtns.forEach(btn => {
        btn.style.display = "none";
        btn.style.top = "";
        btn.style.left = "";
        btn.style.right = "";
      });
      if (systemBtn) {
        systemBtn.style.display = "none";
        systemBtn.style.top = "";
        systemBtn.style.left = "";
        systemBtn.style.right = "";
      }
    }

    function populateUserSelect() {
      const select = document.getElementById("username");
      if (!select) return;
      select.innerHTML = "";
      AUTH_TABLE.forEach(row => {
        const opt = document.createElement("option");
        opt.value = row.username;
        opt.textContent = row.username;
        select.appendChild(opt);
      });
    }

    function findUser(username, password) {
      const trimmedName = (username || "").trim();
      return AUTH_TABLE.find(row => row.username === trimmedName && row.password === password);
    }

    buildMainButtons();
    resetButtonsForLogout();
    populateUserSelect();

    loginForm.addEventListener("submit", function (e) {
      e.preventDefault();

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      const user = findUser(username, password);
      if (!user) {
        loginError.textContent = "å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚";
        return;
      }

      loginError.textContent = "";
      applyUser(user);
    });

    btnSwitch.addEventListener("click", function () {
      localStorage.removeItem(CURRENT_KEY);

      document.body.classList.add("locked");
      loginOverlay.style.display = "flex";
      loginError.textContent = "";
      loginForm.reset();
      populateUserSelect();
      resetButtonsForLogout();
      userInfo.textContent = "ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥";
    });

    btnTogglePwd.addEventListener("click", function () {
      const pwdInput = document.getElementById("password");
      if (!pwdInput) return;
      pwdInput.type = pwdInput.type === "password" ? "text" : "password";
    });
  </script>
</body>
</html>
