<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tasun è³‡æ–™é¦–é  Â· ç©ºç„¡æ˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --gold:#f6d37a;
      --gold-soft: rgba(246,211,122,.75);

      --side-btn-offset: clamp(5%, 8vw, 10%);
      --side-text-offset: clamp(26%, 30vw, 34%);
      --btn-w: clamp(240px, 22vw, 420px);

      --stage-top: clamp(4.0rem, 7vh, 5.4rem);
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    body{
      min-height:100vh;
      font-family:"Noto Serif TC","æ¨™æ¥·é«”","Microsoft JhengHei",serif;
      background:#050302;
      color:var(--gold);
      overflow-x:hidden;
    }

    /* âœ… ä¸€å®šå…ˆç™»å…¥ï¼šé–ä½ä¸»ç•«é¢äº’å‹• */
    body.locked { overflow: hidden; }
    body.locked main.hero { pointer-events:none; filter: blur(2px) brightness(.92); }
    body.locked .user-bar { pointer-events:none; opacity:.65; }

    /* ==========================
       ç™»å…¥é®ç½©
       ========================== */
    .login-overlay{
      position:fixed; inset:0;
      background: radial-gradient(circle at 50% 18%, rgba(255,228,170,.35), rgba(0,0,0,.98));
      display:flex; align-items:center; justify-content:center;
      z-index:999;
      padding:18px;
    }
    .login-box{
      width:min(380px, 90vw);
      padding:2.2rem 2.2rem 2.0rem;
      border-radius:18px;
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,.28), rgba(0,0,0,.94));
      border:1px solid rgba(246,211,122,.35);
      box-shadow: 0 0 24px rgba(0,0,0,.9), 0 0 32px rgba(246,211,122,.25);
      color:var(--gold-soft);
    }
    .login-title{
      text-align:center;
      font-size:1.35rem;
      letter-spacing:.2em;
      text-indent:.2em;
      margin-bottom:1.3rem;
      text-shadow: 0 0 8px rgba(246,211,122,.8), 0 0 18px rgba(246,211,122,.5);
      color:rgba(246,211,122,.92);
    }
    .login-field{ margin-bottom: .9rem; }
    .login-field label{
      display:block;
      font-size:.85rem;
      letter-spacing:.18em;
      text-indent:.18em;
      margin-bottom:.32rem;
      color:rgba(246,211,122,.78);
    }
    .login-field input{
      width:100%;
      padding:.55rem .75rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.5);
      background:rgba(0,0,0,.82);
      color:var(--gold);
      outline:none;
    }
    .login-field input:focus{
      border-color: rgba(255,238,190,.9);
      box-shadow: 0 0 12px rgba(246,211,122,.65);
    }
    .login-pwd-row{
      display:flex; gap:.5rem; align-items:center;
    }
    .btn-eye{
      padding:.22rem .7rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.75);
      background:rgba(0,0,0,.86);
      color:var(--gold);
      cursor:pointer;
      box-shadow: 0 0 8px rgba(0,0,0,.6);
      white-space:nowrap;
    }
    .login-error{
      min-height:1.1rem;
      margin-top:.1rem;
      font-size:.82rem;
      color:#ffb3b3;
      text-align:center;
      white-space:pre-line;
    }
    .btn-login{
      width:100%;
      margin-top:.8rem;
      padding:.55rem 1.2rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.9);
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,.36), rgba(0,0,0,.98));
      color:var(--gold);
      font-size:.95rem;
      letter-spacing:.22em;
      text-indent:.22em;
      cursor:pointer;
      box-shadow: 0 10px 18px rgba(0,0,0,.95), 0 0 18px rgba(246,211,122,.5);
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .btn-login:hover{
      transform: translateY(-1px);
      border-color:#fff4cf;
      background: radial-gradient(circle at 0% 0%, rgba(255,244,208,.45), rgba(0,0,0,.97));
      box-shadow: 0 12px 22px rgba(0,0,0,.98), 0 0 22px rgba(246,211,122,.8);
    }

    /* ==========================
       ä¸»è¦–è¦ºï¼ˆèƒŒæ™¯ï¼‰
       ========================== */
    .hero{
      position:relative;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:var(--gold);
    }

    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at 50% 10%,
          rgba(255,237,180,.88) 0%,
          rgba(255,237,180,.38) 18%,
          rgba(255,237,180,.10) 38%,
          rgba(255,237,180,0) 62%),
        radial-gradient(ellipse at 50% 80%,
          rgba(255,250,240,.20) 0%,
          rgba(255,250,240,.08) 30%,
          rgba(0,0,0,0) 64%),
        linear-gradient(to bottom,
          rgba(0,0,0,.84) 0%,
          rgba(0,0,0,.58) 30%,
          rgba(0,0,0,.42) 56%,
          rgba(0,0,0,.55) 100%);
      z-index:-6;
    }

    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at 50% 52%,
          rgba(246,211,122,.10) 0%,
          rgba(246,211,122,.05) 28%,
          rgba(0,0,0,0) 56%),
        radial-gradient(circle at 50% 60%,
          rgba(0,0,0,0) 0%,
          rgba(0,0,0,.22) 52%,
          rgba(0,0,0,.58) 100%);
      z-index:-5;
      pointer-events:none;
    }

    .hero-inner{
      position:relative;
      width:100%;
      max-width:1400px;
      height:100vh;
      margin:0 auto;
      padding: clamp(1.2rem, 2vw, 1.8rem);
      isolation:isolate;
    }

    /* âœ… æ¨™è¨»(1)ï¼šç§»é™¤ä»»ä½•å…§æ¡†/é‚Šæ¡†ï¼ˆæ•´é«”èåˆåº•åœ–ï¼‰ */
    .hero-inner::after{ display:none; }

    /* ==========================
       âœ… èˆå°ç‡ˆèšå…‰ï¼šä¸å†ç”¨çŸ©å½¢å€å¡Šæ‰¿è¼‰
       - (2)(3) ä¸æœƒå‡ºç¾é•·æ–¹/5:4 æ–¹å¡Š
       - æ›´ç¡¬é‚Šï¼šæ›´æ˜é¡¯åœ“å½¢å…‰åœˆ ring
       ========================== */
    .lotus-stage{
      position:absolute;
      inset:0;                 /* âœ… å…¨ç•«é¢ç–Šå…‰ï¼šä¸æœƒå½¢æˆä¸­å¤®é•·æ–¹å½¢å€å¡Š */
      z-index:-3;
      pointer-events:none;
      background:none;         /* âœ… ä¸çµ¦ä»»ä½•çŸ©å½¢åº•è‰² */
      box-shadow:none;
      border-radius:0;
      overflow:visible;        /* âœ… ä¸è£åˆ‡ï¼Œé¿å…é‚Šç·£å‡ºç¾â€œå¡Šæ„Ÿâ€ */
    }

    /* åœ“å½¢èšå…‰ä¸»é«”ï¼ˆç¡¬é‚Šï¼‹å…‰åœˆï¼‰ */
    .lotus-stage::before{
      content:"";
      position:absolute;
      inset:-8%;
      pointer-events:none;

      background:
        /* 1) åœ“å½¢äº®å¿ƒï¼ˆæ›´é›†ä¸­ï¼‰ */
        radial-gradient(circle at 50% 63%,
          rgba(255,255,255,.52) 0%,
          rgba(255,250,238,.40) 10%,
          rgba(246,211,122,.26) 22%,
          rgba(246,211,122,.14) 34%,
          rgba(246,211,122,.08) 44%,
          rgba(0,0,0,0) 60%),

        /* 2) ç¡¬é‚Šå…‰åœˆï¼ˆringï¼‰â€”â€”æ›´åƒèˆå°ç‡ˆçš„â€œåœ“å½¢é‚Šç•Œâ€ */
        radial-gradient(circle at 50% 63%,
          rgba(0,0,0,0) 0%,
          rgba(0,0,0,0) 36%,
          rgba(255,244,220,.10) 38%,
          rgba(255,244,220,.34) 39.5%,
          rgba(255,244,220,.12) 41.5%,
          rgba(0,0,0,0) 56%),

        /* 3) å¤–åœˆæ·¡æ·¡æ“´æ•£ï¼ˆè®“ ring æ›´æœ‰å±¤æ¬¡ï¼‰ */
        radial-gradient(circle at 50% 63%,
          rgba(246,211,122,.06) 0%,
          rgba(246,211,122,.03) 44%,
          rgba(0,0,0,0) 78%);

      mix-blend-mode: screen;
      opacity: .98;

      /* âœ… ç¡¬é‚Šä½†ä¸é‹¸é½’ï¼šæ¥µå° blur */
      filter: blur(.25px);

      /* âœ… è®“èšå…‰åœ¨å¤–åœæ›´å¿«æ¶ˆå¤±ï¼šæ›´åƒèˆå°ç‡ˆâ€œåœ“å½¢æŠ•å½±â€ */
      -webkit-mask-image: radial-gradient(circle at 50% 63%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 54%,
        rgba(0,0,0,.35) 63%,
        rgba(0,0,0,0) 78%);
      mask-image: radial-gradient(circle at 50% 63%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 54%,
        rgba(0,0,0,.35) 63%,
        rgba(0,0,0,0) 78%);
    }

    /* å…‰æŸ / ç…™éœ§æ•£å°„ï¼ˆé¿å…ä¸‰è§’å½¢ï¼šç”¨éœ§åŒ–å°„ç·š + æŸ”é®ç½©ï¼‰ */
    .lotus-stage::after{
      content:"";
      position:absolute;
      inset:-12%;
      pointer-events:none;

      background:
        /* ä¸Šæ–¹ç‡ˆé ­äº®é»ï¼ˆä½ è¦çš„é ‚ç«¯ä½ç½®æ„Ÿï¼‰ */
        radial-gradient(ellipse at 50% 14%,
          rgba(255,255,255,.22) 0%,
          rgba(255,255,255,.10) 22%,
          rgba(0,0,0,0) 55%),

        /* éœ§åŒ–å°„ç·šï¼ˆèˆå°ç‡ˆç…™éœ§æ„Ÿï¼‰ */
        repeating-conic-gradient(from 210deg at 50% 14%,
          rgba(255,255,255,.14) 0deg 4deg,
          rgba(255,255,255,0) 4deg 15deg),

        /* ä¸­å¤®è–„éœ§ï¼ˆè®“å…‰æŸæ›´â€œæ¿•æ½¤â€ï¼‰ */
        radial-gradient(circle at 50% 50%,
          rgba(255,255,255,.10) 0%,
          rgba(255,255,255,.05) 22%,
          rgba(0,0,0,0) 62%);

      mix-blend-mode: screen;
      opacity: .62;
      filter: blur(1.35px);

      /* âœ… å°„ç·šåªåœ¨ä¸ŠåŠéƒ¨æ˜é¡¯ã€å¾€ä¸‹è‡ªç„¶æ¶ˆå¤±ï¼ˆä¸æœƒæœ‰ä¸‰è§’é‚Šï¼‰ */
      -webkit-mask-image: radial-gradient(ellipse at 50% 22%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,.92) 34%,
        rgba(0,0,0,.55) 56%,
        rgba(0,0,0,0) 80%);
      mask-image: radial-gradient(ellipse at 50% 22%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,.92) 34%,
        rgba(0,0,0,.55) 56%,
        rgba(0,0,0,0) 80%);
    }

    /* è“®èŠ±åœ–ï¼ˆä»ä¿æŒä½ åŸåœ–ï¼Œä½†åŠ å¼·é®ç½©é¿å…ä»»ä½•æ–¹å¡Šæ®˜å½±ï¼‰ */
    .lotus-sprite{
      position:absolute;
      left:50%;
      top:63%;
      transform:translate(-50%,-50%);
      width:min(560px, 52vw);
      height:min(380px, 34vw);
      background:url("é¦–é åœ–ç‰‡.png") center 82% / auto 240% no-repeat;
      opacity:.98;
      filter: saturate(.92) contrast(1.06) brightness(1.08)
              drop-shadow(0 22px 34px rgba(0,0,0,.55));
      z-index:-2;
      pointer-events:none;

      /* âœ… æ›´åœ“ã€æ›´æŸ”ï¼šé¿å…çœ‹åˆ°ä»»ä½•â€œçŸ©å½¢åº•â€ */
      -webkit-mask-image: radial-gradient(ellipse at 50% 62%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 40%,
        rgba(0,0,0,.55) 58%,
        rgba(0,0,0,0) 78%);
      mask-image: radial-gradient(ellipse at 50% 62%,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,1) 40%,
        rgba(0,0,0,.55) 58%,
        rgba(0,0,0,0) 78%);
    }

    /* ==========================
       ä½¿ç”¨è€…åˆ— / æ¨™é¡Œ / ç¦ªæ–‡å­—
       ========================== */
    .user-bar{
      position:fixed;
      top:.8rem; left:.9rem;
      display:flex;
      align-items:center;
      gap:.75rem;
      z-index:10;
    }
    .user-pill{
      padding:.30rem 1.05rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.55);
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,.18), rgba(0,0,0,.88));
      font-size:.82rem;
      letter-spacing:.10em;
      text-indent:.10em;
      opacity:.88;
      box-shadow: 0 3px 8px rgba(0,0,0,.75), 0 0 10px rgba(246,211,122,.18);
    }
    .btn-switch{
      padding:.26rem 1.00rem;
      border-radius:999px;
      border:1px solid rgba(246,211,122,.62);
      background: radial-gradient(circle at 0% 0%, rgba(246,211,122,.22), rgba(0,0,0,.92));
      color:var(--gold);
      font-size:.80rem;
      letter-spacing:.10em;
      text-indent:.10em;
      cursor:pointer;
      opacity:.86;
      box-shadow: 0 4px 9px rgba(0,0,0,.82), 0 0 10px rgba(246,211,122,.20);
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
    }
    .btn-switch:hover{
      transform: translateY(-1px);
      opacity:.96;
      background: radial-gradient(circle at 0% 0%, rgba(255,244,208,.30), rgba(0,0,0,.93));
      box-shadow: 0 7px 14px rgba(0,0,0,.90), 0 0 14px rgba(246,211,122,.30);
    }

    .site-title-wrapper{
      position:fixed;
      top:.70rem;
      left:50%;
      transform:translateX(-50%);
      text-align:center;
      letter-spacing:.38em;
      text-indent:.38em;
      z-index:9;
      pointer-events:none;
    }
    .site-title{
      font-family:"DFKai-SB","æ¨™æ¥·é«”","BiauKai","KaiTi","STKaiti","Kaiti TC","Noto Serif TC",serif;
      font-size: clamp(2.4rem, 4.2vw, 3.8rem);
      font-weight:700;
      -webkit-text-stroke: .7px rgba(255,244,208,.40);
      text-shadow:
        0 1px 0 rgba(0,0,0,.65),
        0 2px 0 rgba(0,0,0,.55),
        0 10px 22px rgba(0,0,0,.88),
        0 0 18px rgba(246,211,122,.92),
        0 0 36px rgba(246,211,122,.72),
        0 0 58px rgba(246,211,122,.46);
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.85));
    }

    .hero-text{
      position:absolute;
      color:var(--gold);
      text-shadow: 0 0 10px rgba(246,211,122,.9),
                   0 0 24px rgba(246,211,122,.7),
                   0 0 40px rgba(246,211,122,.45);
      white-space:nowrap;
      z-index:0;
    }

    .hero-title{
      left:50%;
      top:41%;
      transform:translate(-50%,-50%);
      width:min(820px, 78vw);
      height: clamp(160px, 20vh, 220px);
      position:absolute;
      z-index:2;
      pointer-events:none;
    }
    .hero-title span{
      position:absolute;
      font-size: clamp(2.0rem, 3.0vw, 2.6rem);
      line-height:1;
      letter-spacing:.06em;
      text-indent:.06em;
      transform-origin:center;
    }
    .hero-title span:nth-child(1){ left:50%; top:8%;  transform:translate(-50%,-50%) rotate(0deg); }
    .hero-title span:nth-child(2){ left:28%; top:52%; transform:translate(-50%,-50%) rotate(-6deg); }
    .hero-title span:nth-child(3){ left:72%; top:52%; transform:translate(-50%,-50%) rotate(6deg); }

    .hero-left,.hero-right{
      top:63%;
      transform:translateY(-50%);
      display:flex;
      flex-direction:column;
      align-items:center;
      font-size: clamp(1.7rem, 2.4vw, 2.1rem);
    }
    .hero-left{ left:var(--side-text-offset); }
    .hero-right{ right:var(--side-text-offset); }
    .hero-left span,.hero-right span{ line-height:1.3; letter-spacing:.12em; }
    .char-space{ margin-top:.8em; margin-bottom:.3em; }

    .hero-bottom{
      bottom:10%;
      left:50%;
      transform:translateX(-50%);
      font-size: clamp(1.6rem, 2.2vw, 2rem);
      display:flex;
      gap:1.9em;
      justify-content:center;
      align-items:center;
    }
    .hero-bottom span{ letter-spacing:.16em; }

    /* ==========================
       æŒ‰éˆ•
       ========================== */
    .nav-area{ position:absolute; inset:0; }

    .nav-btn{
      position:absolute;
      width:var(--btn-w);
      height: clamp(78px, 9.5vh, 112px);
      border-radius:999px;
      border: 1px solid rgba(246,211,122,.92);
      background:
        linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.04)),
        radial-gradient(circle at 0% 0%, rgba(246,211,122,.28), rgba(0,0,0,.82));
      color:var(--gold);
      text-decoration:none;
      cursor:pointer;
      box-shadow: 0 14px 26px rgba(0,0,0,.95), 0 0 26px rgba(246,211,122,.40);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 0 clamp(1.6rem, 2.6vw, 3.0rem);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .25s ease, opacity .2s ease;
      z-index:1;
    }
    .nav-btn span{
      display:-webkit-box;
      -webkit-box-orient:vertical;
      -webkit-line-clamp:2;
      overflow:hidden;
      text-align:center;
      line-height:1.22;
      font-size: clamp(1.02rem, 1.15vw, 1.22rem);
      letter-spacing: clamp(.10em, .20vw, .18em);
      text-indent:.12em;
      word-break: keep-all;
    }
    .nav-btn:hover{
      transform: translateY(-3px);
      box-shadow: 0 18px 34px rgba(0,0,0,.95), 0 0 34px rgba(246,211,122,.75);
      border-color: rgba(255,235,180,.98);
      background:
        linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06)),
        radial-gradient(circle at 0% 0%, rgba(255,240,200,.32), rgba(0,0,0,.86));
    }
    .nav-btn:active{
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(0,0,0,.9), 0 0 22px rgba(246,211,122,.7);
    }

    /* æ‰‹æ©Ÿç‰ˆ */
    @media (max-width: 900px){
      .hero-inner{
        width:100vw;
        height:auto;
        min-height:100vh;
        max-width:none;
        padding:1.2rem .75rem 2.2rem;
      }
      .hero-title{
        top:40.2%;
        width:min(900px, 92vw);
        height:170px;
      }
      .hero-title span{ font-size:2.0rem; }

      .hero-left{ left:24%; font-size:1.5rem; }
      .hero-right{ right:24%; font-size:1.5rem; }
      .hero-bottom{ bottom:8%; font-size:1.5rem; }

      .lotus-sprite{
        width:min(520px, 86vw);
        height:min(360px, 58vw);
        top:62%;
        background-position:center 84%;
        background-size:auto 260%;
      }

      .nav-area{
        position:static;
        display:flex;
        flex-wrap:wrap;
        justify-content:center;
        gap:.9rem;
        width:100%;
        margin:min(56vh, 430px) auto .8rem;
        padding: 0 .6rem;
      }
      .nav-btn{
        position:relative;
        flex: 0 1 calc(50% - .9rem);
        max-width:360px;
        width:auto;
        height:78px;
        padding:0 1.2rem;
      }
    }
  </style>
</head>

<body class="locked">

  <!-- ç™»å…¥ -->
  <div class="login-overlay" id="loginOverlay" aria-hidden="false">
    <div class="login-box">
      <div class="login-title">Tasun è³‡æ–™ Â· ç™»å…¥</div>
      <form id="loginForm">
        <div class="login-field">
          <label for="usernameInput">å¸³è™Ÿ</label>
          <input id="usernameInput" autocomplete="username" placeholder="ä¾‹å¦‚ï¼šalex" />
        </div>

        <div class="login-field">
          <label for="passwordInput">å¯†ç¢¼</label>
          <div class="login-pwd-row">
            <input id="passwordInput" type="password" autocomplete="current-password" placeholder="è¼¸å…¥å¯†ç¢¼" />
            <button type="button" class="btn-eye" id="togglePwd">ğŸ‘</button>
          </div>
        </div>

        <div class="login-error" id="loginError"></div>
        <button class="btn-login" type="submit">ç™»å…¥</button>
      </form>
    </div>
  </div>

  <main class="hero">
    <div class="hero-inner">

      <!-- è¦–è¦ºï¼šèˆå°ç‡ˆèšå…‰ + è“®èŠ± -->
      <div class="lotus-stage" aria-hidden="true"></div>
      <div class="lotus-sprite" aria-hidden="true"></div>

      <!-- ä½¿ç”¨è€…åˆ— -->
      <div class="user-bar">
        <div class="user-pill" id="userInfo">ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥</div>
        <button class="btn-switch" id="btnSwitchUser" type="button">åˆ‡æ›å¸³è™Ÿ</button>
      </div>

      <!-- æ¨™é¡Œ -->
      <div class="site-title-wrapper">
        <div class="site-title">Tasun è³‡æ–™</div>
      </div>

      <!-- ä¸­å¤®ç¦ªå­— -->
      <div class="hero-text hero-title">
        <span>ç©º</span><span>ç„¡</span><span>æ˜</span>
      </div>

      <div class="hero-text hero-left">
        <span>ç©º</span><span>éˆ</span><span class="char-space"></span><span>ç„¡</span><span>æˆ‘</span>
      </div>

      <div class="hero-text hero-right">
        <span>æ¸…</span><span>æ˜</span><span class="char-space"></span><span>å¯§</span><span>éœ</span>
      </div>

      <div class="hero-text hero-bottom">
        <span>ç©º</span><span>ç„¡</span><span>æ˜</span><span>éœ</span>
      </div>

      <!-- åŠŸèƒ½æŒ‰éˆ• -->
      <div class="nav-area" id="navArea"></div>

    </div>
  </main>

  <script>
    /* åŸºæœ¬ç™»å…¥/è§’è‰²ï¼ˆä½ å¯ä¾ä½ ç¾åœ¨çš„å¸³å¯†èª¿æ•´ï¼‰ */
    const USERS = [
      { user: "alex",  pass: "Tasun08040224", role: "admin" },
      { user: "tasun", pass: "tasun08040224", role: "write" },
      { user: "wu",    pass: "123456",        role: "read" }
    ];

    /* é¦–é æŒ‰éˆ•ï¼ˆä¾è§’è‰²é¡¯ç¤ºï¼‰ */
    const BUTTONS = [
      { text: "è‡»é¼æ™‚ä»£å¤§å»ˆç®¡ç†è¡¨", href: "è‡»é¼ç®¡ç†è¡¨.html", roles: ["admin","write","read"] },
      { text: "ç¼ºå¤± / å“è³ª",       href: "ç”„é¼quality.html", roles: ["admin","write","read"] },
      { text: "é›²ç«¯æª”æ¡ˆ",           href: "https://www.dropbox.com/", roles: ["admin","write","read"] },
      { text: "å·¥ç¨‹è³‡æ–™åº«",         href: "å·¥ç¨‹è³‡æ–™åº«.html", roles: ["admin","write","read"] },
      { text: "è³‡æ–™åº«",             href: "è³‡æ–™åº«.html", roles: ["admin","write","read"] },
      { text: "ç³»çµ± / æ¬Šé™",        href: "æ¬Šé™è¡¨.html", roles: ["admin"] }
    ];

    const $ = (s)=>document.querySelector(s);

    const loginOverlay = $("#loginOverlay");
    const loginForm = $("#loginForm");
    const loginError = $("#loginError");
    const usernameInput = $("#usernameInput");
    const passwordInput = $("#passwordInput");
    const togglePwd = $("#togglePwd");
    const userInfo = $("#userInfo");
    const btnSwitchUser = $("#btnSwitchUser");
    const navArea = $("#navArea");

    let currentUser = null;

    function setLocked(isLocked){
      document.body.classList.toggle("locked", isLocked);
      loginOverlay.style.display = isLocked ? "flex" : "none";
      loginOverlay.setAttribute("aria-hidden", isLocked ? "false" : "true");
    }

    function findUser(u,p){
      u = (u||"").trim();
      p = (p||"").trim();
      return USERS.find(x => x.user === u && x.pass === p) || null;
    }

    function renderButtons(role){
      navArea.innerHTML = "";

      const visible = BUTTONS.filter(b => b.roles.includes(role));
      // æ¡Œé¢æ’åˆ—ï¼šå·¦ä¸Šâ†’å³ä¸Šâ†’å·¦ä¸­â†’å³ä¸­â†’å·¦ä¸‹â†’å³ä¸‹
      const slots = [
        { side:"left",  top:"28%" },
        { side:"right", top:"28%" },
        { side:"left",  top:"50%" },
        { side:"right", top:"50%" },
        { side:"left",  top:"72%" },
        { side:"right", top:"72%" }
      ];

      visible.forEach((b, i) => {
        const a = document.createElement("a");
        a.className = "nav-btn";
        a.href = b.href;
        a.target = b.href.startsWith("http") ? "_blank" : "_self";
        a.rel = b.href.startsWith("http") ? "noopener noreferrer" : "";
        a.innerHTML = `<span>${b.text}</span>`;

        // æ¡Œé¢å®šä½ï¼ˆæ‰‹æ©Ÿç‰ˆæœƒè¢« CSS æ”¹æˆ flexï¼Œè‡ªç„¶æ’ï¼‰
        if (window.matchMedia("(min-width: 901px)").matches){
          const slot = slots[i % slots.length];
          a.style.top = slot.top;
          if (slot.side === "left") a.style.left = getComputedStyle(document.documentElement).getPropertyValue("--side-btn-offset");
          else a.style.right = getComputedStyle(document.documentElement).getPropertyValue("--side-btn-offset");
          a.style.transform = "translateY(-50%)";
        }

        navArea.appendChild(a);
      });
    }

    togglePwd.addEventListener("click", () => {
      passwordInput.type = (passwordInput.type === "password") ? "text" : "password";
    });

    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      loginError.textContent = "";

      const u = findUser(usernameInput.value, passwordInput.value);
      if (!u){
        loginError.textContent = "å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤";
        return;
      }
      currentUser = u;
      userInfo.textContent = `ç›®å‰ä½¿ç”¨è€…ï¼š${u.user} (${u.role})`;

      renderButtons(u.role);
      setLocked(false);
    });

    btnSwitchUser.addEventListener("click", () => {
      currentUser = null;
      userInfo.textContent = "ç›®å‰ä½¿ç”¨è€…ï¼šæœªç™»å…¥";
      usernameInput.value = "";
      passwordInput.value = "";
      loginError.textContent = "";
      setLocked(true);
    });

    // åˆå§‹ï¼šä¸€å®šè¦ç™»å…¥
    setLocked(true);

    // è¦–çª—ç¸®æ”¾æ™‚é‡æ–°å¥—æ¡Œé¢å®šä½ï¼ˆæ‰‹æ©Ÿ/æ¡Œé¢åˆ‡æ›ï¼‰
    window.addEventListener("resize", () => {
      if (currentUser) renderButtons(currentUser.role);
    });
  </script>
</body>
</html>
